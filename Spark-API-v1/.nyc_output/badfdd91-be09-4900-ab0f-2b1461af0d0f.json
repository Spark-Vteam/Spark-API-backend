{"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/index.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/index.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":18},"end":{"line":6,"column":53}},"4":{"start":{"line":7,"column":22},"end":{"line":7,"column":61}},"5":{"start":{"line":8,"column":16},"end":{"line":8,"column":45}},"6":{"start":{"line":9,"column":15},"end":{"line":9,"column":56}},"7":{"start":{"line":10,"column":18},"end":{"line":10,"column":62}},"8":{"start":{"line":11,"column":15},"end":{"line":11,"column":56}},"9":{"start":{"line":12,"column":15},"end":{"line":12,"column":56}},"10":{"start":{"line":13,"column":15},"end":{"line":13,"column":56}},"11":{"start":{"line":14,"column":16},"end":{"line":14,"column":58}},"12":{"start":{"line":15,"column":18},"end":{"line":15,"column":62}},"13":{"start":{"line":16,"column":19},"end":{"line":16,"column":64}},"14":{"start":{"line":17,"column":18},"end":{"line":17,"column":62}},"15":{"start":{"line":18,"column":15},"end":{"line":18,"column":56}},"16":{"start":{"line":19,"column":13},"end":{"line":19,"column":37}},"17":{"start":{"line":20,"column":13},"end":{"line":20,"column":28}},"18":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}},"19":{"start":{"line":22,"column":12},"end":{"line":22,"column":36}},"20":{"start":{"line":23,"column":0},"end":{"line":23,"column":16}},"21":{"start":{"line":24,"column":0},"end":{"line":24,"column":25}},"22":{"start":{"line":25,"column":0},"end":{"line":25,"column":38}},"23":{"start":{"line":26,"column":0},"end":{"line":26,"column":62}},"24":{"start":{"line":27,"column":0},"end":{"line":27,"column":38}},"25":{"start":{"line":28,"column":0},"end":{"line":28,"column":29}},"26":{"start":{"line":29,"column":0},"end":{"line":29,"column":32}},"27":{"start":{"line":30,"column":0},"end":{"line":30,"column":29}},"28":{"start":{"line":31,"column":0},"end":{"line":31,"column":29}},"29":{"start":{"line":32,"column":0},"end":{"line":32,"column":29}},"30":{"start":{"line":33,"column":0},"end":{"line":33,"column":30}},"31":{"start":{"line":34,"column":0},"end":{"line":34,"column":32}},"32":{"start":{"line":35,"column":0},"end":{"line":35,"column":33}},"33":{"start":{"line":36,"column":0},"end":{"line":36,"column":32}},"34":{"start":{"line":37,"column":0},"end":{"line":37,"column":29}},"35":{"start":{"line":38,"column":15},"end":{"line":38,"column":59}},"36":{"start":{"line":40,"column":19},"end":{"line":40,"column":21}},"37":{"start":{"line":41,"column":4},"end":{"line":52,"column":7}},"38":{"start":{"line":42,"column":8},"end":{"line":51,"column":9}},"39":{"start":{"line":43,"column":12},"end":{"line":43,"column":42}},"40":{"start":{"line":45,"column":13},"end":{"line":51,"column":9}},"41":{"start":{"line":46,"column":12},"end":{"line":50,"column":15}},"42":{"start":{"line":48,"column":16},"end":{"line":48,"column":38}},"43":{"start":{"line":49,"column":16},"end":{"line":49,"column":44}},"44":{"start":{"line":53,"column":4},"end":{"line":53,"column":57}},"45":{"start":{"line":54,"column":4},"end":{"line":54,"column":42}},"46":{"start":{"line":55,"column":4},"end":{"line":55,"column":25}},"47":{"start":{"line":57,"column":0},"end":{"line":57,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"logStartUpDetailsToConsole","decl":{"start":{"line":39,"column":9},"end":{"line":39,"column":35}},"loc":{"start":{"line":39,"column":38},"end":{"line":56,"column":1}},"line":39},"2":{"name":"(anonymous_2)","decl":{"start":{"line":41,"column":30},"end":{"line":41,"column":31}},"loc":{"start":{"line":41,"column":46},"end":{"line":52,"column":5}},"line":41},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":44},"end":{"line":46,"column":45}},"loc":{"start":{"line":46,"column":57},"end":{"line":50,"column":13}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":19,"column":13},"end":{"line":19,"column":37}},"type":"binary-expr","locations":[{"start":{"line":19,"column":13},"end":{"line":19,"column":29}},{"start":{"line":19,"column":33},"end":{"line":19,"column":37}}],"line":19},"4":{"loc":{"start":{"line":42,"column":8},"end":{"line":51,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":51,"column":9}},{"start":{"line":42,"column":8},"end":{"line":51,"column":9}}],"line":42},"5":{"loc":{"start":{"line":45,"column":13},"end":{"line":51,"column":9}},"type":"if","locations":[{"start":{"line":45,"column":13},"end":{"line":51,"column":9}},{"start":{"line":45,"column":13},"end":{"line":51,"column":9}}],"line":45},"6":{"loc":{"start":{"line":49,"column":16},"end":{"line":49,"column":43}},"type":"binary-expr","locations":[{"start":{"line":49,"column":16},"end":{"line":49,"column":21}},{"start":{"line":49,"column":25},"end":{"line":49,"column":43}}],"line":49}},"s":{"0":1,"1":12,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":17,"39":1,"40":16,"41":10,"42":40,"43":40,"44":1,"45":1,"46":1,"47":1},"f":{"0":12,"1":1,"2":17,"3":40},"b":{"0":[1,1,1],"1":[10,2],"2":[12,12],"3":[1,0],"4":[1,16],"5":[10,6],"6":[40,40]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/index.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/index.ts"],"names":[],"mappings":";;;;;AAAA,sDAAgF;AAChF,8DAAqC;AAErC,8CAA0D;AAC1D,yDAAsC;AACtC,+DAA6C;AAC7C,yDAAsC;AACtC,yDAAsC;AACtC,yDAAsC;AACtC,2DAAwC;AACxC,+DAA4C;AAC5C,iEAA8C;AAC9C,+DAA4C;AAC5C,yDAAsC;AACtC,MAAM,IAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC;AAEtC,MAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;AAE3B,MAAM,GAAG,GAAgB,IAAA,iBAAO,GAAE,CAAC;AAEnC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;AAChB,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC;AAEzB,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,IAAI,EAAE,CAAC,CAAC;AAC3B,GAAG,CAAC,GAAG,CAAC,qBAAU,CAAC,UAAU,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAEnD,GAAG,CAAC,GAAG,CAAC,4BAAoB,CAAC,CAAC;AAE9B,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,cAAS,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,iBAAa,CAAC,CAAC;AAC5B,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,cAAS,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,cAAS,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,cAAS,CAAC,CAAC;AACxB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,eAAU,CAAC,CAAC;AACzB,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,iBAAY,CAAC,CAAC;AAC3B,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,kBAAa,CAAC,CAAC;AAC5B,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,iBAAY,CAAC,CAAC;AAC3B,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,cAAS,CAAC,CAAC;AAExB,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,0BAA0B,CAAC,CAAC;AAO5D,SAAS,0BAA0B;IAC/B,MAAM,MAAM,GAAU,EAAE,CAAC;IAGzB,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,UAAkE,EAAE,EAAE;QAC7F,IAAI,UAAU,CAAC,KAAK,EAAE;YAElB,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SACjC;aAAM,IAAI,UAAU,CAAC,IAAI,KAAK,QAAQ,EAAE;YAErC,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;gBACxC,IAAI,KAAK,CAAC;gBAEV,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;gBACtB,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChC,CAAC,CAAC,CAAC;SACN;IACL,CAAC,CAAC,CAAC;IAEH,OAAO,CAAC,IAAI,CAAC,+BAA+B,IAAI,GAAG,CAAC,CAAC;IACrD,OAAO,CAAC,IAAI,CAAC,uBAAuB,CAAC,CAAC;IACtC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACzB,CAAC;AAED,kBAAe,MAAM,CAAC","sourcesContent":["import express, { Application, Request, Response, NextFunction } from 'express';\nimport bodyParser from 'body-parser';\n\nimport { logIncomingToConsole } from './middleware/index';\nimport mainRoute from './routes/main';\nimport stationsRoute from './routes/station';\nimport userRoute from './routes/user';\nimport bikeRoute from './routes/bike';\nimport rentRoute from './routes/rent';\nimport adminRoute from './routes/admin';\nimport invoiceRoute from './routes/invoice';\nimport geofenceRoute from './routes/geofence';\nimport chargerRoute from './routes/charger';\nimport authRoute from './routes/auth';\nconst port = process.env.PORT || 4000;\n\nconst cors = require('cors');\nrequire('dotenv').config();\n\nconst app: Application = express();\n\napp.use(cors());\napp.options('*', cors());\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\napp.use(logIncomingToConsole);\n\napp.use(\"/\", mainRoute);\napp.use(\"/\", stationsRoute);\napp.use(\"/\", userRoute);\napp.use(\"/\", bikeRoute);\napp.use(\"/\", rentRoute);\napp.use(\"/\", adminRoute);\napp.use(\"/\", invoiceRoute);\napp.use(\"/\", geofenceRoute);\napp.use(\"/\", chargerRoute);\napp.use(\"/\", authRoute);\n\nconst server = app.listen(port, logStartUpDetailsToConsole);\n\n/**\n * Log app details to console when starting up.\n *\n * @return {void}\n */\nfunction logStartUpDetailsToConsole() {\n    const routes: any[] = [];\n\n    // Find what routes are supported\n    app._router.stack.forEach((middleware: { route: any; name: string; handle: { stack: any[] } }) => {\n        if (middleware.route) {\n            // Routes registered directly on the app\n            routes.push(middleware.route);\n        } else if (middleware.name === 'router') {\n            // Routes added as router middleware\n            middleware.handle.stack.forEach((handler) => {\n                let route;\n\n                route = handler.route;\n                route && routes.push(route);\n            });\n        }\n    });\n\n    console.info(`Server is listening on port ${port}.`);\n    console.info('Available routes are:');\n    console.info(routes);\n}\n\nexport default server;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1fc64226980cd70f4e44216eeb9314556f613086","contentHash":"aa20e7262fcfa0bac6e0560fda1ff31168d69a3d735e24ba28f9413191f89dd8"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/middleware/index.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/middleware/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":64}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":11}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":52}}},"fnMap":{"0":{"name":"logIncomingToConsole","decl":{"start":{"line":4,"column":9},"end":{"line":4,"column":29}},"loc":{"start":{"line":4,"column":46},"end":{"line":7,"column":1}},"line":4}},"branchMap":{},"s":{"0":1,"1":1,"2":0,"3":0,"4":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/middleware/index.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/middleware/index.ts"],"names":[],"mappings":"AAGA,YAAY,CAAC;;;AAYb,SAAgB,oBAAoB,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB;IAChF,OAAO,CAAC,IAAI,CAAC,kBAAkB,GAAG,CAAC,IAAI,KAAK,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC;IAC5D,IAAI,EAAE,CAAC;AACX,CAAC;AAHD,oDAGC","sourcesContent":["/**\n * General middleware.\n */\n'use strict';\nimport express, { Application, Request, Response, NextFunction } from 'express';\n/**\n * Log incoming requests to console to see who accesses the server\n * on what route.\n *\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nexport function logIncomingToConsole(req: Request, res: Response, next: NextFunction) {\n    console.info(`Got request on ${req.path} (${req.method}).`);\n    next();\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2270f1da1ca4ea7aa4e62b82970c7ca04a735593","contentHash":"84672698a0572c69027141306b670641b012a58b4b5b732b0fc4136d1b2a0c28"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/main.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/main.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":36}},"4":{"start":{"line":6,"column":0},"end":{"line":11,"column":3}},"5":{"start":{"line":7,"column":17},"end":{"line":9,"column":5}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":19}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":16},"end":{"line":6,"column":17}},"loc":{"start":{"line":6,"column":30},"end":{"line":11,"column":1}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/main.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/main.ts"],"names":[],"mappings":";;AAAA,qCAAoD;AACpD,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AACxB,MAAM,QAAQ,GAAG,mBAAmB,CAAC;AAcrC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE;IAC5C,MAAM,IAAI,GAAG;QACT,KAAK,EAAE,mBAAmB,QAAQ,EAAE;KACvC,CAAC;IAEF,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACnB,CAAC,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Response, Router } from 'express';\nconst router = Router();\nconst sitename = ' | Spark API Main';\n\n/**\n * Main ROUTE\n * /:\n *   get:\n *     summary: Display\n *     description: Render welcome page\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/', (req: Request, res: Response) => {\n    const data = {\n        title: `Welcome to the  ${sitename}`,\n    };\n\n    res.send(data);\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b853c4dde63d77f33249301caf87e2a5985b34b2","contentHash":"60c3f133ec72371de060744d085d86da91fa0f7ecda6c8a5b7fba6076a09c831"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/station.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/station.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":18},"end":{"line":16,"column":63}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":30,"column":4}},"19":{"start":{"line":18,"column":37},"end":{"line":30,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":29,"column":5}},"21":{"start":{"line":20,"column":28},"end":{"line":20,"column":69}},"22":{"start":{"line":21,"column":32},"end":{"line":21,"column":71}},"23":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":79}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":37}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":43}},"27":{"start":{"line":31,"column":0},"end":{"line":43,"column":4}},"28":{"start":{"line":31,"column":41},"end":{"line":43,"column":2}},"29":{"start":{"line":32,"column":4},"end":{"line":42,"column":5}},"30":{"start":{"line":33,"column":27},"end":{"line":33,"column":79}},"31":{"start":{"line":34,"column":31},"end":{"line":34,"column":69}},"32":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"33":{"start":{"line":36,"column":12},"end":{"line":36,"column":89}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":36}},"35":{"start":{"line":41,"column":8},"end":{"line":41,"column":43}},"36":{"start":{"line":44,"column":0},"end":{"line":44,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":37},"end":{"line":30,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":71},"end":{"line":18,"column":72}},"loc":{"start":{"line":18,"column":84},"end":{"line":30,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":31,"column":27},"end":{"line":31,"column":28}},"loc":{"start":{"line":31,"column":41},"end":{"line":43,"column":2}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":75},"end":{"line":31,"column":76}},"loc":{"start":{"line":31,"column":88},"end":{"line":43,"column":1}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"9":{"loc":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},{"start":{"line":35,"column":8},"end":{"line":37,"column":9}}],"line":35}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/station.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/station.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qCAAoD;AAEpD,gEAA6C;AAC7C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAcxB,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACzD,IAAI;QACA,MAAM,WAAW,GAAG,MAAM,iBAAY,CAAC,eAAe,EAAE,CAAC;QACzD,MAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;QAChE,IAAI,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YACjC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,qCAAqC,CAAC,CAAC;SACtE;QACD,OAAO,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAChC;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC7D,IAAI;QACA,MAAM,UAAU,GAAG,MAAM,iBAAY,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACnE,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QAC9D,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAChC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,sBAAsB,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,CAAC,CAAC;SAChF;QACD,OAAO,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC/B;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport stationModel from '../models/station';\nconst router = Router();\n\n/**\n * Stations ROUTE\n *  /station:\n *   get:\n *     summary: List of stations\n *     description: Render  page\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/station', async (req: Request, res: Response) => {\n    try {\n        const allStations = await stationModel.showAllStations();\n        const allStationsData = JSON.parse(JSON.stringify(allStations));\n        if (allStationsData[0].length === 0) {\n            return res.status(404).send('No stations currently in the system');\n        }\n        return res.send(allStations);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Stations ROUTE\n *  /station/:id:\n *   get:\n *     summary: One station\n *     description: Render station by ID\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/station/:id', async (req: Request, res: Response) => {\n    try {\n        const oneStation = await stationModel.getOneStation(req.params.id);\n        const oneStationData = JSON.parse(JSON.stringify(oneStation));\n        if (oneStationData[0].length === 0) {\n            return res.status(404).send(`No station with Id ${req.params.id} was found`);\n        }\n        return res.send(oneStation);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bbbd83d40aaf4e1c1937141880f980441722337f","contentHash":"bda953379d181a0bd6cdb635e3d0f5c8ea3ecc5b48206fe0202e56c7c63677b0"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/station.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/station.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":21},"end":{"line":43,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":50}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":49}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":60}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":0},"end":{"line":44,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllStations","decl":{"start":{"line":17,"column":30},"end":{"line":17,"column":45}},"loc":{"start":{"line":17,"column":48},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneStation","decl":{"start":{"line":30,"column":28},"end":{"line":30,"column":41}},"loc":{"start":{"line":30,"column":53},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/station.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/station.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kDAAgC;AAEhC,MAAM,YAAY,GAAG;IAMjB,eAAe,EAAE,SAAe,eAAe;;YAC3C,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,sBAAsB,CAAC;gBACnC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAEhC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aAIjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,aAAa,EAAE,SAAe,aAAa,CAAC,SAAiB;;YACzD,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,qBAAqB,CAAC;gBAElC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC7C,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;CACJ,CAAC;AAEF,kBAAe,YAAY,CAAC","sourcesContent":["import database from '../db/db';\n\nconst stationModel = {\n    /**\n     * Function to show all stations\n     * @async\n     * @returns {RowDataPacket} Resultset from the query.\n     */\n    showAllStations: async function showAllStations() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_stations();`;\n            const res = await db.query(sql);\n\n            return res[0];\n            // Error always empty . . .\n            // } catch (error) {\n            //     return error;\n        } finally {\n            await db.end();\n        }\n    },\n    getOneStation: async function getOneStation(stationId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_station(?)`;\n\n            const res = await db.query(sql, [stationId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default stationModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2aaa97b92c807f2fafe5b45df216d07da74df6b7","contentHash":"6de0ed9516803fbf8fdba1c79a07da519e05d36ff5a98030a353d9c77a0b3086"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/db/db.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/db/db.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":60}},"16":{"start":{"line":16,"column":17},"end":{"line":16,"column":54}},"17":{"start":{"line":17,"column":17},"end":{"line":30,"column":1}},"18":{"start":{"line":19,"column":8},"end":{"line":28,"column":11}},"19":{"start":{"line":21,"column":12},"end":{"line":26,"column":15}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":22}},"21":{"start":{"line":31,"column":0},"end":{"line":31,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"getDb","decl":{"start":{"line":18,"column":20},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":28},"end":{"line":29,"column":5}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":47},"end":{"line":19,"column":48}},"loc":{"start":{"line":19,"column":60},"end":{"line":28,"column":9}},"line":19}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":2,"14":1,"15":1,"16":1,"17":1,"18":0,"19":0,"20":0,"21":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,1],"7":[2,2]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/db/db.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/db/db.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,6DAAmC;AACnC,uDAA+B;AAE/B,MAAM,QAAQ,GAAG;IAMb,KAAK,EAAE,SAAe,KAAK;;YACvB,IAAI,EAAoB,CAAC;YACzB,EAAE,GAAG,MAAM,iBAAK,CAAC,gBAAgB,CAAC;gBAC9B,IAAI,EAAE,gBAAM,CAAC,OAAO;gBACpB,IAAI,EAAE,gBAAM,CAAC,OAAO;gBACpB,QAAQ,EAAE,gBAAM,CAAC,OAAO;gBACxB,QAAQ,EAAE,gBAAM,CAAC,WAAW;aAC/B,CAAC,CAAC;YAEH,OAAO,EAAE,CAAC;QACd,CAAC;KAAA;CACJ,CAAC;AAEF,kBAAe,QAAQ,CAAC","sourcesContent":["import mysql from 'mysql2/promise';\nimport config from '../config';\n\nconst database = {\n    /**\n     * Main function to connect to database.\n     * @async\n     * @returns void\n     */\n    getDb: async function getDb() {\n        let db: mysql.Connection;\n        db = await mysql.createConnection({\n            host: config.DB_HOST,\n            user: config.DB_USER,\n            database: config.DB_NAME,\n            password: config.DB_PASSWORD,\n        });\n\n        return db;\n    },\n};\n\nexport default database;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"11258d3b11b39e9dd62388a882287d7b59a7c696","contentHash":"d2183b7a6b1d2706f6ca871627d534f0f23a3a7903e928ab1b663fb323f60183"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/config.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/config.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":47}},"4":{"start":{"line":7,"column":17},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":80}},"6":{"start":{"line":9,"column":18},"end":{"line":17,"column":1}},"7":{"start":{"line":10,"column":4},"end":{"line":16,"column":6}},"8":{"start":{"line":18,"column":26},"end":{"line":25,"column":1}},"9":{"start":{"line":19,"column":4},"end":{"line":23,"column":5}},"10":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"11":{"start":{"line":21,"column":12},"end":{"line":21,"column":64}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":18}},"13":{"start":{"line":26,"column":15},"end":{"line":26,"column":26}},"14":{"start":{"line":27,"column":24},"end":{"line":27,"column":49}},"15":{"start":{"line":28,"column":0},"end":{"line":28,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":18},"end":{"line":9,"column":19}},"loc":{"start":{"line":9,"column":24},"end":{"line":17,"column":1}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":26},"end":{"line":18,"column":27}},"loc":{"start":{"line":18,"column":38},"end":{"line":25,"column":1}},"line":18}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},{"start":{"line":20,"column":8},"end":{"line":22,"column":9}}],"line":20}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":5,"11":0,"12":1,"13":1,"14":1,"15":1},"f":{"0":2,"1":1,"2":1},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[0,5]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/config.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/config.ts"],"names":[],"mappings":";;;;;AAAA,gDAAwB;AACxB,oDAA4B;AAG5B,gBAAM,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,cAAI,CAAC,OAAO,CAAC,UAAU,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;AAwB5D,MAAM,SAAS,GAAG,GAAQ,EAAE;IACxB,OAAO;QACH,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;QAC5B,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW;QACpC,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;QAC5B,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;QACjC,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;KAC/B,CAAC;AACN,CAAC,CAAC;AAQF,MAAM,iBAAiB,GAAG,CAAC,MAAW,EAAU,EAAE;IAC9C,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE;QAC/C,IAAI,KAAK,KAAK,SAAS,EAAE;YACrB,MAAM,IAAI,KAAK,CAAC,eAAe,GAAG,gBAAgB,CAAC,CAAC;SACvD;KACJ;IACD,OAAO,MAAgB,CAAC;AAC5B,CAAC,CAAC;AAEF,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;AAE3B,MAAM,eAAe,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;AAElD,kBAAe,eAAe,CAAC","sourcesContent":["import path from 'path';\nimport dotenv from 'dotenv';\n\n// Parsing the env file.\ndotenv.config({ path: path.resolve(__filename, './.env') });\n\n// Interface to load env variables\n// Note these variables can possibly be undefined\n// as someone could skip these varibales or not setup a .env file at all\n\ninterface ENV {\n    DB_USER: string | undefined;\n    DB_PASSWORD: string | undefined;\n    DB_NAME: string | undefined;\n    DB_PORT: number | undefined;\n    DB_HOST: string | undefined;\n}\n\ninterface Config {\n    DB_USER: string;\n    DB_PASSWORD: string;\n    DB_NAME: string;\n    DB_PORT: number;\n    DB_HOST: string;\n}\n\n// Loading process.env as ENV interface\n\nconst getConfig = (): ENV => {\n    return {\n        DB_USER: process.env.DB_USER,\n        DB_PASSWORD: process.env.DB_PASSWORD,\n        DB_NAME: process.env.DB_NAME,\n        DB_PORT: Number(process.env.PORT),\n        DB_HOST: process.env.DB_HOST,\n    };\n};\n\n// Throwing an Error if any field was undefined we don't\n// want our app to run if it can't connect to DB and ensure\n// that these fields are accessible. If all is good return\n// it as Config which just removes the undefined from our type\n// definition.\n\nconst getSanitzedConfig = (config: ENV): Config => {\n    for (const [key, value] of Object.entries(config)) {\n        if (value === undefined) {\n            throw new Error(`Missing key ${key} in config.env`);\n        }\n    }\n    return config as Config;\n};\n\nconst config = getConfig();\n\nconst sanitizedConfig = getSanitzedConfig(config);\n\nexport default sanitizedConfig;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"df2ca8ea1aae14bf5bb7e667077cd587811af874","contentHash":"f685139e6cdd6bb05599fd9f01079e70b0c2fb6e56bbacbc457fc291723b9215"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/user.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/user.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":15},"end":{"line":16,"column":57}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":30,"column":4}},"19":{"start":{"line":18,"column":34},"end":{"line":30,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":29,"column":5}},"21":{"start":{"line":20,"column":25},"end":{"line":20,"column":60}},"22":{"start":{"line":21,"column":29},"end":{"line":21,"column":65}},"23":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":76}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":46}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":43}},"27":{"start":{"line":31,"column":0},"end":{"line":39,"column":4}},"28":{"start":{"line":31,"column":38},"end":{"line":39,"column":2}},"29":{"start":{"line":32,"column":4},"end":{"line":38,"column":5}},"30":{"start":{"line":33,"column":24},"end":{"line":33,"column":70}},"31":{"start":{"line":34,"column":8},"end":{"line":34,"column":45}},"32":{"start":{"line":37,"column":8},"end":{"line":37,"column":43}},"33":{"start":{"line":40,"column":0},"end":{"line":60,"column":4}},"34":{"start":{"line":40,"column":35},"end":{"line":60,"column":2}},"35":{"start":{"line":41,"column":4},"end":{"line":59,"column":5}},"36":{"start":{"line":42,"column":25},"end":{"line":49,"column":9}},"37":{"start":{"line":50,"column":24},"end":{"line":50,"column":176}},"38":{"start":{"line":51,"column":8},"end":{"line":55,"column":55}},"39":{"start":{"line":58,"column":8},"end":{"line":58,"column":43}},"40":{"start":{"line":61,"column":0},"end":{"line":82,"column":4}},"41":{"start":{"line":61,"column":38},"end":{"line":82,"column":2}},"42":{"start":{"line":62,"column":21},"end":{"line":68,"column":5}},"43":{"start":{"line":69,"column":19},"end":{"line":69,"column":32}},"44":{"start":{"line":70,"column":25},"end":{"line":76,"column":5}},"45":{"start":{"line":77,"column":4},"end":{"line":81,"column":51}},"46":{"start":{"line":83,"column":0},"end":{"line":93,"column":4}},"47":{"start":{"line":83,"column":46},"end":{"line":93,"column":2}},"48":{"start":{"line":84,"column":20},"end":{"line":84,"column":36}},"49":{"start":{"line":85,"column":19},"end":{"line":85,"column":32}},"50":{"start":{"line":86,"column":4},"end":{"line":92,"column":5}},"51":{"start":{"line":87,"column":8},"end":{"line":87,"column":64}},"52":{"start":{"line":88,"column":8},"end":{"line":88,"column":94}},"53":{"start":{"line":91,"column":8},"end":{"line":91,"column":43}},"54":{"start":{"line":94,"column":0},"end":{"line":104,"column":4}},"55":{"start":{"line":94,"column":54},"end":{"line":104,"column":2}},"56":{"start":{"line":95,"column":20},"end":{"line":95,"column":36}},"57":{"start":{"line":96,"column":19},"end":{"line":96,"column":32}},"58":{"start":{"line":97,"column":4},"end":{"line":103,"column":5}},"59":{"start":{"line":98,"column":8},"end":{"line":98,"column":71}},"60":{"start":{"line":99,"column":8},"end":{"line":99,"column":80}},"61":{"start":{"line":102,"column":8},"end":{"line":102,"column":43}},"62":{"start":{"line":105,"column":0},"end":{"line":115,"column":4}},"63":{"start":{"line":105,"column":47},"end":{"line":115,"column":2}},"64":{"start":{"line":106,"column":21},"end":{"line":106,"column":38}},"65":{"start":{"line":107,"column":19},"end":{"line":107,"column":32}},"66":{"start":{"line":108,"column":4},"end":{"line":114,"column":5}},"67":{"start":{"line":109,"column":8},"end":{"line":109,"column":66}},"68":{"start":{"line":110,"column":8},"end":{"line":110,"column":87}},"69":{"start":{"line":113,"column":8},"end":{"line":113,"column":43}},"70":{"start":{"line":116,"column":0},"end":{"line":124,"column":4}},"71":{"start":{"line":116,"column":41},"end":{"line":124,"column":2}},"72":{"start":{"line":117,"column":4},"end":{"line":123,"column":5}},"73":{"start":{"line":118,"column":8},"end":{"line":118,"column":58}},"74":{"start":{"line":119,"column":8},"end":{"line":119,"column":81}},"75":{"start":{"line":122,"column":8},"end":{"line":122,"column":43}},"76":{"start":{"line":125,"column":0},"end":{"line":125,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":20},"end":{"line":18,"column":21}},"loc":{"start":{"line":18,"column":34},"end":{"line":30,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":68},"end":{"line":18,"column":69}},"loc":{"start":{"line":18,"column":81},"end":{"line":30,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":31,"column":24},"end":{"line":31,"column":25}},"loc":{"start":{"line":31,"column":38},"end":{"line":39,"column":2}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":72},"end":{"line":31,"column":73}},"loc":{"start":{"line":31,"column":85},"end":{"line":39,"column":1}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":40,"column":21},"end":{"line":40,"column":22}},"loc":{"start":{"line":40,"column":35},"end":{"line":60,"column":2}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":40,"column":69},"end":{"line":40,"column":70}},"loc":{"start":{"line":40,"column":82},"end":{"line":60,"column":1}},"line":40},"14":{"name":"(anonymous_14)","decl":{"start":{"line":61,"column":24},"end":{"line":61,"column":25}},"loc":{"start":{"line":61,"column":38},"end":{"line":82,"column":2}},"line":61},"15":{"name":"(anonymous_15)","decl":{"start":{"line":61,"column":72},"end":{"line":61,"column":73}},"loc":{"start":{"line":61,"column":85},"end":{"line":82,"column":1}},"line":61},"16":{"name":"(anonymous_16)","decl":{"start":{"line":83,"column":32},"end":{"line":83,"column":33}},"loc":{"start":{"line":83,"column":46},"end":{"line":93,"column":2}},"line":83},"17":{"name":"(anonymous_17)","decl":{"start":{"line":83,"column":80},"end":{"line":83,"column":81}},"loc":{"start":{"line":83,"column":93},"end":{"line":93,"column":1}},"line":83},"18":{"name":"(anonymous_18)","decl":{"start":{"line":94,"column":40},"end":{"line":94,"column":41}},"loc":{"start":{"line":94,"column":54},"end":{"line":104,"column":2}},"line":94},"19":{"name":"(anonymous_19)","decl":{"start":{"line":94,"column":88},"end":{"line":94,"column":89}},"loc":{"start":{"line":94,"column":101},"end":{"line":104,"column":1}},"line":94},"20":{"name":"(anonymous_20)","decl":{"start":{"line":105,"column":33},"end":{"line":105,"column":34}},"loc":{"start":{"line":105,"column":47},"end":{"line":115,"column":2}},"line":105},"21":{"name":"(anonymous_21)","decl":{"start":{"line":105,"column":81},"end":{"line":105,"column":82}},"loc":{"start":{"line":105,"column":94},"end":{"line":115,"column":1}},"line":105},"22":{"name":"(anonymous_22)","decl":{"start":{"line":116,"column":27},"end":{"line":116,"column":28}},"loc":{"start":{"line":116,"column":41},"end":{"line":124,"column":2}},"line":116},"23":{"name":"(anonymous_23)","decl":{"start":{"line":116,"column":75},"end":{"line":116,"column":76}},"loc":{"start":{"line":116,"column":88},"end":{"line":124,"column":1}},"line":116}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/user.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/user.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport userModel from '../models/user';\nconst router = Router();\n\ninterface UserInfo {\n    FirstName: string;\n    LastName: string;\n    PhoneNumber: string;\n    EmailAdress: string;\n    Balance: number;\n    Password: string;\n}\n\n/**\n * Users ROUTE\n * /users:\n *   get:\n *     summary: Display list of users\n *     description: Render all users from database\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/user', async (req: Request, res: Response) => {\n    try {\n        const allUsers = await userModel.showAllUsers();\n\n        const allUsersData = JSON.parse(JSON.stringify(allUsers));\n        if (allUsersData[0].length === 0) {\n            return res.status(404).send('No users currently in the system');\n        }\n        return res.status(200).send(allUsers);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * User ROUTE\n *  /user/:id:\n *   get:\n *     summary: One User\n *     description: Render User by ID\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/user/:id', async (req: Request, res: Response) => {\n    try {\n        const oneUser = await userModel.getOneUser(req.params.id);\n\n        return res.status(200).send(oneUser);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * User ROUTE\n *  /user:\n *   post:\n *     summary: Create one user\n *     description: Create user with information\n *     { firstName, lastName,phoneNumber, emailAdress, password }\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.post('/user', async (req: Request, res: Response) => {\n    try {\n        const userInfo = {\n            firstName: req.body.firstName,\n            lastName: req.body.lastName,\n            phoneNumber: req.body.phoneNumber,\n            emailAdress: req.body.emailAdress,\n            password: req.body.password,\n            oauth: req.body.oauth,\n        };       \n\n        const newUser = await userModel.createOneUser(\n            userInfo.firstName,\n            userInfo.lastName,\n            userInfo.phoneNumber,\n            userInfo.emailAdress,\n            userInfo.password,\n            userInfo.oauth\n        );\n\n        res.status(201).send(\n            `User has been created with the following information:\\n\n                firstName: ${userInfo.firstName},\n                lastName: ${userInfo.lastName}, \n                phoneNumber: ${userInfo.phoneNumber}, \n                emailAdress: ${userInfo.emailAdress}`\n        );\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * User ROUTE\n *  /user/:id:\n *   get:\n *     summary: Update One User\n *     description: Update User information { firstName, lastName,phoneNumber, emailAdress} by ID\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/user/:id', async (req: Request, res: Response) => {\n    const userInfo = {\n        firstName: req.body.firstName,\n        lastName: req.body.lastName,\n        phoneNumber: req.body.phoneNumber,\n        emailAdress: req.body.emailAdress,\n        oauth: req.body.oauth\n    };\n    const userID = req.params.id;\n\n    const _newUserInfo = {\n        firstName: await userModel.updateUserFirstName(userID, userInfo.firstName),\n        lastName: await userModel.updateUserLastName(userID, userInfo.lastName),\n        phoneNumber: await userModel.updateUserPhoneNumber(userID, userInfo.phoneNumber),\n        emailAdress: await userModel.updateUserEmailAdress(userID, userInfo.emailAdress),\n        oauth: await userModel.updateUserOauth(userID, userInfo.oauth)\n    };\n\n    return res.status(201).send(\n        `User with id ${userID} has been updated to:\\n\n            firstName: ${userInfo.firstName},\n            lastName: ${userInfo.lastName}, \n            phoneNumber: ${userInfo.phoneNumber}, \n            emailAdress: ${userInfo.emailAdress}`\n    );\n});\n\n/**\n * User ROUTE\n *  /user/balance/:id:\n *   put:\n *     summary: Update balance of one User\n *     description: Update User Balance by ID\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/user/balance/:id', async (req: Request, res: Response) => {\n    const balance = req.body.balance;\n    const userID = req.params.id;\n    try {\n        await userModel.updateUserBalance(userID, balance);\n\n        return res.status(201).send(`User with id ${userID} added ${balance} to its balance`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * User ROUTE\n *  /user/partial_balance/:id:\n *   put:\n *     summary: Update partial balance of one User\n *     description: Update User Partial Balance by ID\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/user/partial_balance/:id', async (req: Request, res: Response) => {\n    const balance = req.body.balance;\n    const userID = req.params.id;\n    try {\n        await userModel.updateUserPartialBalance(userID, balance);\n\n        return res.status(201).send(`User with id ${userID} added ${balance} `);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * User ROUTE\n *  /user/password/:id:\n *   get:\n *     summary: Update password of one User\n *     description: Update User password by ID\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/user/password/:id', async (req: Request, res: Response) => {\n    const password = req.body.password;\n    const userID = req.params.id;\n    try {\n        await userModel.updateUserPassword(userID, password);\n\n        return res.status(201).send(`User with id ${userID} has updated its password`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * User ROUTE\n *  /user/:id:\n *   get:\n *     summary: Delete One User\n *     description: Delete User by ID\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Promise}\n */\nrouter.delete('/user/:id', async (req: Request, res: Response) => {\n    try {\n        await userModel.deleteOneUser(req.params.id);\n\n        // 202: The request has been accepted for processing, but the processing has not been completed.\n        // 204: The server has successfully fulfilled the request and that there is no additional content to send in the response payload body.\n        // 200: The request has succeeded and the request payload includes a representation of the status of the action.\n        return res.status(200).send(`User with id ${req.params.id} was deleted`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"af80063e2e82c6368b360f74129a21c4cbcc5b96","contentHash":"ab043884d057b139508f832ead04ca68022e94dcabd3395b10d1598feec497a3"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/user.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/user.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":18},"end":{"line":173,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":47}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":46}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":57}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":8},"end":{"line":54,"column":11}},"32":{"start":{"line":45,"column":23},"end":{"line":45,"column":49}},"33":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"34":{"start":{"line":47,"column":28},"end":{"line":47,"column":63}},"35":{"start":{"line":48,"column":28},"end":{"line":48,"column":113}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":30}},"37":{"start":{"line":52,"column":16},"end":{"line":52,"column":31}},"38":{"start":{"line":57,"column":8},"end":{"line":67,"column":11}},"39":{"start":{"line":58,"column":23},"end":{"line":58,"column":49}},"40":{"start":{"line":59,"column":12},"end":{"line":66,"column":13}},"41":{"start":{"line":60,"column":28},"end":{"line":60,"column":62}},"42":{"start":{"line":61,"column":28},"end":{"line":61,"column":68}},"43":{"start":{"line":62,"column":16},"end":{"line":62,"column":30}},"44":{"start":{"line":65,"column":16},"end":{"line":65,"column":31}},"45":{"start":{"line":70,"column":8},"end":{"line":80,"column":11}},"46":{"start":{"line":71,"column":23},"end":{"line":71,"column":49}},"47":{"start":{"line":72,"column":12},"end":{"line":79,"column":13}},"48":{"start":{"line":73,"column":28},"end":{"line":73,"column":61}},"49":{"start":{"line":74,"column":28},"end":{"line":74,"column":67}},"50":{"start":{"line":75,"column":16},"end":{"line":75,"column":30}},"51":{"start":{"line":78,"column":16},"end":{"line":78,"column":31}},"52":{"start":{"line":83,"column":8},"end":{"line":93,"column":11}},"53":{"start":{"line":84,"column":23},"end":{"line":84,"column":49}},"54":{"start":{"line":85,"column":12},"end":{"line":92,"column":13}},"55":{"start":{"line":86,"column":28},"end":{"line":86,"column":64}},"56":{"start":{"line":87,"column":28},"end":{"line":87,"column":70}},"57":{"start":{"line":88,"column":16},"end":{"line":88,"column":30}},"58":{"start":{"line":91,"column":16},"end":{"line":91,"column":31}},"59":{"start":{"line":96,"column":8},"end":{"line":106,"column":11}},"60":{"start":{"line":97,"column":23},"end":{"line":97,"column":49}},"61":{"start":{"line":98,"column":12},"end":{"line":105,"column":13}},"62":{"start":{"line":99,"column":28},"end":{"line":99,"column":64}},"63":{"start":{"line":100,"column":28},"end":{"line":100,"column":70}},"64":{"start":{"line":101,"column":16},"end":{"line":101,"column":30}},"65":{"start":{"line":104,"column":16},"end":{"line":104,"column":31}},"66":{"start":{"line":109,"column":8},"end":{"line":119,"column":11}},"67":{"start":{"line":110,"column":23},"end":{"line":110,"column":49}},"68":{"start":{"line":111,"column":12},"end":{"line":118,"column":13}},"69":{"start":{"line":112,"column":28},"end":{"line":112,"column":60}},"70":{"start":{"line":113,"column":28},"end":{"line":113,"column":66}},"71":{"start":{"line":114,"column":16},"end":{"line":114,"column":30}},"72":{"start":{"line":117,"column":16},"end":{"line":117,"column":31}},"73":{"start":{"line":122,"column":8},"end":{"line":132,"column":11}},"74":{"start":{"line":123,"column":23},"end":{"line":123,"column":49}},"75":{"start":{"line":124,"column":12},"end":{"line":131,"column":13}},"76":{"start":{"line":125,"column":28},"end":{"line":125,"column":68}},"77":{"start":{"line":126,"column":28},"end":{"line":126,"column":66}},"78":{"start":{"line":127,"column":16},"end":{"line":127,"column":30}},"79":{"start":{"line":130,"column":16},"end":{"line":130,"column":31}},"80":{"start":{"line":135,"column":8},"end":{"line":145,"column":11}},"81":{"start":{"line":136,"column":23},"end":{"line":136,"column":49}},"82":{"start":{"line":137,"column":12},"end":{"line":144,"column":13}},"83":{"start":{"line":138,"column":28},"end":{"line":138,"column":61}},"84":{"start":{"line":139,"column":28},"end":{"line":139,"column":67}},"85":{"start":{"line":140,"column":16},"end":{"line":140,"column":30}},"86":{"start":{"line":143,"column":16},"end":{"line":143,"column":31}},"87":{"start":{"line":148,"column":8},"end":{"line":158,"column":11}},"88":{"start":{"line":149,"column":23},"end":{"line":149,"column":49}},"89":{"start":{"line":150,"column":12},"end":{"line":157,"column":13}},"90":{"start":{"line":151,"column":28},"end":{"line":151,"column":58}},"91":{"start":{"line":152,"column":28},"end":{"line":152,"column":64}},"92":{"start":{"line":153,"column":16},"end":{"line":153,"column":30}},"93":{"start":{"line":156,"column":16},"end":{"line":156,"column":31}},"94":{"start":{"line":161,"column":8},"end":{"line":171,"column":11}},"95":{"start":{"line":162,"column":23},"end":{"line":162,"column":49}},"96":{"start":{"line":163,"column":12},"end":{"line":170,"column":13}},"97":{"start":{"line":164,"column":28},"end":{"line":164,"column":49}},"98":{"start":{"line":165,"column":28},"end":{"line":165,"column":57}},"99":{"start":{"line":166,"column":16},"end":{"line":166,"column":30}},"100":{"start":{"line":169,"column":16},"end":{"line":169,"column":31}},"101":{"start":{"line":174,"column":0},"end":{"line":174,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllUsers","decl":{"start":{"line":17,"column":27},"end":{"line":17,"column":39}},"loc":{"start":{"line":17,"column":42},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneUser","decl":{"start":{"line":30,"column":25},"end":{"line":30,"column":35}},"loc":{"start":{"line":30,"column":44},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31},"12":{"name":"createOneUser","decl":{"start":{"line":43,"column":28},"end":{"line":43,"column":41}},"loc":{"start":{"line":43,"column":106},"end":{"line":55,"column":5}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":54,"column":9}},"line":44},"14":{"name":"updateUserFirstName","decl":{"start":{"line":56,"column":34},"end":{"line":56,"column":53}},"loc":{"start":{"line":56,"column":73},"end":{"line":68,"column":5}},"line":56},"15":{"name":"(anonymous_15)","decl":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"loc":{"start":{"line":57,"column":60},"end":{"line":67,"column":9}},"line":57},"16":{"name":"updateUserLastName","decl":{"start":{"line":69,"column":33},"end":{"line":69,"column":51}},"loc":{"start":{"line":69,"column":70},"end":{"line":81,"column":5}},"line":69},"17":{"name":"(anonymous_17)","decl":{"start":{"line":70,"column":47},"end":{"line":70,"column":48}},"loc":{"start":{"line":70,"column":60},"end":{"line":80,"column":9}},"line":70},"18":{"name":"updateUserPhoneNumber","decl":{"start":{"line":82,"column":36},"end":{"line":82,"column":57}},"loc":{"start":{"line":82,"column":79},"end":{"line":94,"column":5}},"line":82},"19":{"name":"(anonymous_19)","decl":{"start":{"line":83,"column":47},"end":{"line":83,"column":48}},"loc":{"start":{"line":83,"column":60},"end":{"line":93,"column":9}},"line":83},"20":{"name":"updateUserEmailAdress","decl":{"start":{"line":95,"column":36},"end":{"line":95,"column":57}},"loc":{"start":{"line":95,"column":79},"end":{"line":107,"column":5}},"line":95},"21":{"name":"(anonymous_21)","decl":{"start":{"line":96,"column":47},"end":{"line":96,"column":48}},"loc":{"start":{"line":96,"column":60},"end":{"line":106,"column":9}},"line":96},"22":{"name":"updateUserBalance","decl":{"start":{"line":108,"column":32},"end":{"line":108,"column":49}},"loc":{"start":{"line":108,"column":67},"end":{"line":120,"column":5}},"line":108},"23":{"name":"(anonymous_23)","decl":{"start":{"line":109,"column":47},"end":{"line":109,"column":48}},"loc":{"start":{"line":109,"column":60},"end":{"line":119,"column":9}},"line":109},"24":{"name":"updateUserPartialBalance","decl":{"start":{"line":121,"column":39},"end":{"line":121,"column":63}},"loc":{"start":{"line":121,"column":81},"end":{"line":133,"column":5}},"line":121},"25":{"name":"(anonymous_25)","decl":{"start":{"line":122,"column":47},"end":{"line":122,"column":48}},"loc":{"start":{"line":122,"column":60},"end":{"line":132,"column":9}},"line":122},"26":{"name":"updateUserPassword","decl":{"start":{"line":134,"column":33},"end":{"line":134,"column":51}},"loc":{"start":{"line":134,"column":70},"end":{"line":146,"column":5}},"line":134},"27":{"name":"(anonymous_27)","decl":{"start":{"line":135,"column":47},"end":{"line":135,"column":48}},"loc":{"start":{"line":135,"column":60},"end":{"line":145,"column":9}},"line":135},"28":{"name":"updateUserOauth","decl":{"start":{"line":147,"column":30},"end":{"line":147,"column":45}},"loc":{"start":{"line":147,"column":61},"end":{"line":159,"column":5}},"line":147},"29":{"name":"(anonymous_29)","decl":{"start":{"line":148,"column":47},"end":{"line":148,"column":48}},"loc":{"start":{"line":148,"column":60},"end":{"line":158,"column":9}},"line":148},"30":{"name":"deleteOneUser","decl":{"start":{"line":160,"column":28},"end":{"line":160,"column":41}},"loc":{"start":{"line":160,"column":50},"end":{"line":172,"column":5}},"line":160},"31":{"name":"(anonymous_31)","decl":{"start":{"line":161,"column":47},"end":{"line":161,"column":48}},"loc":{"start":{"line":161,"column":60},"end":{"line":171,"column":9}},"line":161}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/user.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/user.ts"],"names":[],"mappings":"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","sourcesContent":["import database from '../db/db';\n\nconst userModel = {\n    /**\n     * Function to show all users\n     * @async\n     * @returns {RowDataPacket} Resultset from the query.\n     */\n    showAllUsers: async function showAllUsers() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_users();`;\n            const res = await db.query(sql);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getOneUser: async function getOneUser(userId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_user(?)`;\n            const res = await db.query(sql, [userId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    createOneUser: async function createOneUser(\n        firstName: string,\n        lastName: string,\n        phoneNumber: number,\n        emailAdress: string,\n        password: string,\n        oauth: string\n    ) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL create_user(?, ?, ?, ?, ?,?)`;\n            const res = await db.query(sql, [firstName, lastName, phoneNumber, emailAdress, password, oauth]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserFirstName: async function updateUserFirstName(userId: string, firstName: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_firstname(?, ?)`;\n            const res = await db.query(sql, [userId, firstName]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserLastName: async function updateUserLastName(userId: string, lastName: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_lastname(?, ?)`;\n            const res = await db.query(sql, [userId, lastName]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserPhoneNumber: async function updateUserPhoneNumber(userId: string, phoneNumber: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_phonenumber(?, ?)`;\n            const res = await db.query(sql, [userId, phoneNumber]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserEmailAdress: async function updateUserEmailAdress(userId: string, emailAdress: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_emailadress(?, ?)`;\n            const res = await db.query(sql, [userId, emailAdress]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserBalance: async function updateUserBalance(userId: string, balance: number) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_balance(?, ?)`;\n            const res = await db.query(sql, [userId, balance]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserPartialBalance: async function updateUserPartialBalance(userId: string, balance: number) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_partial_payment(?, ?)`;\n            const res = await db.query(sql, [userId, balance]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserPassword: async function updateUserPassword(userId: string, password: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_password(?, ?)`;\n            const res = await db.query(sql, [userId, password]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateUserOauth: async function updateUserOauth(userId: string, oauth: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_user_oauth(?, ?)`;\n            const res = await db.query(sql, [userId, oauth]);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    deleteOneUser: async function deleteOneUser(userId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL delete_user(?)`;\n            const res = await db.query(sql, [userId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default userModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f8b51fe73051b28c9b278429a78d950c946e1072","contentHash":"2389ce1f40a867febf1685a71f05687a6d93e780ae99f1a4056475767942d6d4"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/bike.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/bike.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":15},"end":{"line":16,"column":57}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":26,"column":4}},"19":{"start":{"line":18,"column":34},"end":{"line":26,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":25,"column":5}},"21":{"start":{"line":20,"column":25},"end":{"line":20,"column":60}},"22":{"start":{"line":21,"column":8},"end":{"line":21,"column":46}},"23":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"24":{"start":{"line":27,"column":0},"end":{"line":35,"column":4}},"25":{"start":{"line":27,"column":38},"end":{"line":35,"column":2}},"26":{"start":{"line":28,"column":4},"end":{"line":34,"column":5}},"27":{"start":{"line":29,"column":24},"end":{"line":29,"column":70}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":45}},"29":{"start":{"line":33,"column":8},"end":{"line":33,"column":43}},"30":{"start":{"line":36,"column":0},"end":{"line":55,"column":4}},"31":{"start":{"line":36,"column":38},"end":{"line":55,"column":2}},"32":{"start":{"line":37,"column":4},"end":{"line":54,"column":5}},"33":{"start":{"line":38,"column":25},"end":{"line":44,"column":9}},"34":{"start":{"line":45,"column":27},"end":{"line":45,"column":148}},"35":{"start":{"line":46,"column":8},"end":{"line":50,"column":39}},"36":{"start":{"line":53,"column":8},"end":{"line":53,"column":43}},"37":{"start":{"line":56,"column":0},"end":{"line":56,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":20},"end":{"line":18,"column":21}},"loc":{"start":{"line":18,"column":34},"end":{"line":26,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":68},"end":{"line":18,"column":69}},"loc":{"start":{"line":18,"column":81},"end":{"line":26,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":27,"column":24},"end":{"line":27,"column":25}},"loc":{"start":{"line":27,"column":38},"end":{"line":35,"column":2}},"line":27},"11":{"name":"(anonymous_11)","decl":{"start":{"line":27,"column":72},"end":{"line":27,"column":73}},"loc":{"start":{"line":27,"column":85},"end":{"line":35,"column":1}},"line":27},"12":{"name":"(anonymous_12)","decl":{"start":{"line":36,"column":24},"end":{"line":36,"column":25}},"loc":{"start":{"line":36,"column":38},"end":{"line":55,"column":2}},"line":36},"13":{"name":"(anonymous_13)","decl":{"start":{"line":36,"column":72},"end":{"line":36,"column":73}},"loc":{"start":{"line":36,"column":85},"end":{"line":55,"column":1}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/bike.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/bike.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qCAAoD;AAEpD,0DAAuC;AACvC,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAsBxB,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACtD,IAAI;QACA,MAAM,QAAQ,GAAG,MAAM,cAAS,CAAC,YAAY,EAAE,CAAC;QAChD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACzC;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1D,IAAI;QACA,MAAM,OAAO,GAAG,MAAM,cAAS,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAE1D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACxC;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1D,IAAI;QACA,MAAM,QAAQ,GAAG;YACb,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM;YACvB,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,QAAQ;YAC3B,OAAO,EAAE,GAAG,CAAC,IAAI,CAAC,OAAO;YACzB,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,MAAM;YACvB,KAAK,EAAE,GAAG,CAAC,IAAI,CAAC,KAAK;SACxB,CAAC;QACF,MAAM,UAAU,GAAG,MAAM,cAAS,CAAC,aAAa,CAC5C,QAAQ,CAAC,MAAM,EACf,QAAQ,CAAC,QAAQ,EACjB,QAAQ,CAAC,OAAO,EAChB,QAAQ,CAAC,MAAM,EACf,QAAQ,CAAC,KAAK,CACjB,CAAC;QAEF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,QAAQ,CAAC,MAAM;uBAC5C,QAAQ,CAAC,QAAQ;uBACjB,QAAQ,CAAC,OAAO;sBACjB,QAAQ,CAAC,MAAM;qBAChB,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;KAClC;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport bikeModel from '../models/bike';\nconst router = Router();\n\ninterface BikeInfo {\n    Bikes_id: number;\n    Position: string;\n    Battery: number;\n    Status: number;\n    Speed: number;\n}\n\n/**\n * Bike ROUTE\n * /:\n *   get:\n *     summary: Display list for bikes\n *     description: Render all bikes\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/bike', async (req: Request, res: Response) => {\n    try {\n        const allBikes = await bikeModel.showAllBikes();\n        return res.status(200).send(allBikes);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Bike ROUTE\n * /:\n *   get:\n *     summary: Display information for one bike\n *     description: Render one bike\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.get('/bike/:id', async (req: Request, res: Response) => {\n    try {\n        const oneBike = await bikeModel.getOneBike(req.params.id);\n\n        return res.status(200).send(oneBike);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Bike ROUTE\n * /:\n *   get:\n *     summary: Update information for one bike\n *     description: Render one bike\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.put('/bike/:id', async (req: Request, res: Response) => {\n    try {\n        const bikeInfo = {\n            bikeId: req.body.bikeId,\n            position: req.body.position,\n            battery: req.body.battery,\n            status: req.body.status,\n            speed: req.body.speed,\n        };\n        const updateBike = await bikeModel.updateOneBike(\n            bikeInfo.bikeId,\n            bikeInfo.position,\n            bikeInfo.battery,\n            bikeInfo.status,\n            bikeInfo.speed\n        );\n\n        return res.status(200).send(`Bike with id ${bikeInfo.bikeId} has been updated:\\n\n            Postion: ${bikeInfo.position},\n            Battery: ${bikeInfo.battery},\n            Status: ${bikeInfo.status},\n            Speed: ${bikeInfo.speed}`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b90cfde879f8e6376b22352d06dc74e9f0951960","contentHash":"6c026012aeb9d54d512d845601c1ff9ea65d40015a4dd5a566c06d6381fcdf52"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/bike.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/bike.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":18},"end":{"line":56,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":47}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":46}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":57}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":8},"end":{"line":54,"column":11}},"32":{"start":{"line":45,"column":23},"end":{"line":45,"column":49}},"33":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"34":{"start":{"line":47,"column":28},"end":{"line":47,"column":61}},"35":{"start":{"line":48,"column":28},"end":{"line":48,"column":91}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":30}},"37":{"start":{"line":52,"column":16},"end":{"line":52,"column":31}},"38":{"start":{"line":57,"column":0},"end":{"line":57,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllBikes","decl":{"start":{"line":17,"column":27},"end":{"line":17,"column":39}},"loc":{"start":{"line":17,"column":42},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneBike","decl":{"start":{"line":30,"column":25},"end":{"line":30,"column":35}},"loc":{"start":{"line":30,"column":44},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31},"12":{"name":"updateOneBike","decl":{"start":{"line":43,"column":28},"end":{"line":43,"column":41}},"loc":{"start":{"line":43,"column":84},"end":{"line":55,"column":5}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":54,"column":9}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/bike.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/bike.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kDAAgC;AAEhC,MAAM,SAAS,GAAG;IAMd,YAAY,EAAE,SAAe,YAAY;;YACrC,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,mBAAmB,CAAC;gBAEhC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAEhC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,UAAU,EAAE,SAAe,UAAU,CAAC,MAAc;;YAChD,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,kBAAkB,CAAC;gBAE/B,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1C,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,aAAa,EAAE,SAAe,aAAa,CACvC,MAAc,EACd,QAAgB,EAChB,OAAe,EACf,MAAc,EACd,KAAa;;YAEb,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,iCAAiC,CAAC;gBAC9C,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC;gBAC5E,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;CACJ,CAAC;AAEF,kBAAe,SAAS,CAAC","sourcesContent":["import database from '../db/db';\n\nconst bikeModel = {\n    /**\n     * Function to show all stations\n     * @async\n     * @returns {RowDataPacket} Resultset from the query.\n     */\n    showAllBikes: async function showAllBikes() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_bikes();`;\n\n            const res = await db.query(sql);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getOneBike: async function getOneBike(bikeId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_bike(?)`;\n\n            const res = await db.query(sql, [bikeId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateOneBike: async function updateOneBike(\n        bikeId: number,\n        position: string,\n        battery: number,\n        status: number,\n        speed: number\n    ) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_bike(?, ?, ?, ?, ?)`;\n            const res = await db.query(sql, [bikeId, position, battery, status, speed]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default bikeModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"44a82ef2a52c77806a6e6b1310bc849521121d07","contentHash":"9904eb9ee42c22476c390d5242165830b00431f086e1678ed459ee17fd67550e"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/rent.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/rent.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":15},"end":{"line":16,"column":57}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":30,"column":4}},"19":{"start":{"line":18,"column":34},"end":{"line":30,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":29,"column":5}},"21":{"start":{"line":20,"column":25},"end":{"line":20,"column":60}},"22":{"start":{"line":21,"column":29},"end":{"line":21,"column":65}},"23":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":76}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":46}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":43}},"27":{"start":{"line":31,"column":0},"end":{"line":43,"column":4}},"28":{"start":{"line":31,"column":38},"end":{"line":43,"column":2}},"29":{"start":{"line":32,"column":4},"end":{"line":42,"column":5}},"30":{"start":{"line":33,"column":24},"end":{"line":33,"column":70}},"31":{"start":{"line":34,"column":28},"end":{"line":34,"column":63}},"32":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"33":{"start":{"line":36,"column":12},"end":{"line":36,"column":86}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":45}},"35":{"start":{"line":41,"column":8},"end":{"line":41,"column":43}},"36":{"start":{"line":44,"column":0},"end":{"line":56,"column":4}},"37":{"start":{"line":44,"column":43},"end":{"line":56,"column":2}},"38":{"start":{"line":45,"column":4},"end":{"line":55,"column":5}},"39":{"start":{"line":46,"column":29},"end":{"line":46,"column":81}},"40":{"start":{"line":47,"column":33},"end":{"line":47,"column":73}},"41":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"42":{"start":{"line":49,"column":12},"end":{"line":49,"column":91}},"43":{"start":{"line":51,"column":8},"end":{"line":51,"column":50}},"44":{"start":{"line":54,"column":8},"end":{"line":54,"column":43}},"45":{"start":{"line":57,"column":0},"end":{"line":67,"column":4}},"46":{"start":{"line":57,"column":44},"end":{"line":67,"column":2}},"47":{"start":{"line":58,"column":19},"end":{"line":58,"column":34}},"48":{"start":{"line":59,"column":19},"end":{"line":59,"column":32}},"49":{"start":{"line":60,"column":4},"end":{"line":66,"column":5}},"50":{"start":{"line":61,"column":24},"end":{"line":61,"column":74}},"51":{"start":{"line":62,"column":8},"end":{"line":62,"column":56}},"52":{"start":{"line":65,"column":8},"end":{"line":65,"column":43}},"53":{"start":{"line":68,"column":0},"end":{"line":77,"column":4}},"54":{"start":{"line":68,"column":38},"end":{"line":77,"column":2}},"55":{"start":{"line":69,"column":19},"end":{"line":69,"column":32}},"56":{"start":{"line":70,"column":4},"end":{"line":76,"column":5}},"57":{"start":{"line":71,"column":27},"end":{"line":71,"column":69}},"58":{"start":{"line":72,"column":8},"end":{"line":72,"column":79}},"59":{"start":{"line":75,"column":8},"end":{"line":75,"column":43}},"60":{"start":{"line":78,"column":0},"end":{"line":78,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":20},"end":{"line":18,"column":21}},"loc":{"start":{"line":18,"column":34},"end":{"line":30,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":68},"end":{"line":18,"column":69}},"loc":{"start":{"line":18,"column":81},"end":{"line":30,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":31,"column":24},"end":{"line":31,"column":25}},"loc":{"start":{"line":31,"column":38},"end":{"line":43,"column":2}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":72},"end":{"line":31,"column":73}},"loc":{"start":{"line":31,"column":85},"end":{"line":43,"column":1}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":44,"column":29},"end":{"line":44,"column":30}},"loc":{"start":{"line":44,"column":43},"end":{"line":56,"column":2}},"line":44},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":77},"end":{"line":44,"column":78}},"loc":{"start":{"line":44,"column":90},"end":{"line":56,"column":1}},"line":44},"14":{"name":"(anonymous_14)","decl":{"start":{"line":57,"column":30},"end":{"line":57,"column":31}},"loc":{"start":{"line":57,"column":44},"end":{"line":67,"column":2}},"line":57},"15":{"name":"(anonymous_15)","decl":{"start":{"line":57,"column":78},"end":{"line":57,"column":79}},"loc":{"start":{"line":57,"column":91},"end":{"line":67,"column":1}},"line":57},"16":{"name":"(anonymous_16)","decl":{"start":{"line":68,"column":24},"end":{"line":68,"column":25}},"loc":{"start":{"line":68,"column":38},"end":{"line":77,"column":2}},"line":68},"17":{"name":"(anonymous_17)","decl":{"start":{"line":68,"column":72},"end":{"line":68,"column":73}},"loc":{"start":{"line":68,"column":85},"end":{"line":77,"column":1}},"line":68}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"9":{"loc":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},{"start":{"line":35,"column":8},"end":{"line":37,"column":9}}],"line":35},"10":{"loc":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},{"start":{"line":48,"column":8},"end":{"line":50,"column":9}}],"line":48}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/rent.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/rent.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qCAAoD;AAEpD,0DAAuC;AACvC,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAwBxB,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACtD,IAAI;QACA,MAAM,QAAQ,GAAG,MAAM,cAAS,CAAC,YAAY,EAAE,CAAC;QAChD,MAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC1D,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAC9B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,kCAAkC,CAAC,CAAC;SACnE;QACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;KACzC;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1D,IAAI;QACA,MAAM,OAAO,GAAG,MAAM,cAAS,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC1D,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QACxD,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAC7B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,CAAC,CAAC;SAC7E;QACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KACxC;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC/D,IAAI;QACA,MAAM,YAAY,GAAG,MAAM,cAAS,CAAC,gBAAgB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAErE,MAAM,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC;QAElE,IAAI,gBAAgB,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;YAClC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,wBAAwB,GAAG,CAAC,MAAM,CAAC,EAAE,YAAY,CAAC,CAAC;SAClF;QACD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC7C;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAChE,MAAM,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;IAC/B,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;IAC7B,IAAI;QACA,MAAM,OAAO,GAAG,MAAM,cAAS,CAAC,aAAa,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;QAE9D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;KACnD;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,WAAW,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC1D,MAAM,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;IAC7B,IAAI;QACA,MAAM,UAAU,GAAG,MAAM,cAAS,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAEzD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,gBAAgB,MAAM,mBAAmB,CAAC,CAAC;KAC1E;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport rentModel from '../models/rent';\nconst router = Router();\n\ninterface RentInfo {\n    Id: number;\n    User_id: number;\n    Start: string;\n    StartTimeStamp: string;\n    Destination: number;\n    DestinationTimeStamp: string;\n    Bike_id: number;\n}\n\n/**\n * Rent ROUTE\n * /:\n *   get:\n *     summary: Display\n *     description: Render welcome page\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.get('/rent', async (req: Request, res: Response) => {\n    try {\n        const allRents = await rentModel.showAllRents();\n        const allRentsData = JSON.parse(JSON.stringify(allRents));\n        if (allRentsData[0].length === 0) {\n            return res.status(404).send('No rents currently in the system');\n        }\n        return res.status(200).send(allRents);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Rent ROUTE\n *  /rent/:id:\n *   get:\n *     summary: One rent\n *     description: Render rent by rentId\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.get('/rent/:id', async (req: Request, res: Response) => {\n    try {\n        const oneRent = await rentModel.getOneRent(req.params.id);\n        const oneRentData = JSON.parse(JSON.stringify(oneRent));\n        if (oneRentData[0].length === 0) {\n            return res.status(404).send(`No rent with Id ${req.params.id} was found`);\n        }\n        return res.status(200).send(oneRent);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Rent ROUTE\n *  /rent/user/:id:\n *   get:\n *     summary: All rents by user\n *     description: Render rent by userId\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.get('/rent/user/:id', async (req: Request, res: Response) => {\n    try {\n        const rentByUserId = await rentModel.getRentsByUserId(req.params.id);\n\n        const rentByUserIdData = JSON.parse(JSON.stringify(rentByUserId));\n\n        if (rentByUserIdData[0].length === 0) {\n            return res.status(404).send(`No rents for user Id ${req.params.id} was found`);\n        }\n        return res.status(200).send(rentByUserId);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Rent ROUTE\n *  /rent/user/:id:\n *   get:\n *     summary: Create a new rent\n *     description: Create a active rent to user and taken bike\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.post('/rent/user/:id', async (req: Request, res: Response) => {\n    const bikeId = req.body.bikeId;\n    const userId = req.params.id;\n    try {\n        const newRent = await rentModel.createOneRent(userId, bikeId);\n\n        return res.status(200).send(`New rent created`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Rent ROUTE\n *  /rent/user/:id:\n *   get:\n *     summary: Update active rent\n *     description: Update rent for bike and user\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.put('/rent/:id', async (req: Request, res: Response) => {\n    const rentId = req.params.id;\n    try {\n        const updateRent = await rentModel.updateOneRent(rentId);\n\n        return res.status(200).send(`Rent with id ${rentId} has been updated`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6f3b5151a088376312752ff5a28f783dcf6a7722","contentHash":"3bba15153d9fbe1173ccf2bbba18375dd15717eb6b1b4f6a9b96b9c60e013756"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/rent.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/rent.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":18},"end":{"line":82,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":46}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":46}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":57}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":8},"end":{"line":54,"column":11}},"32":{"start":{"line":45,"column":23},"end":{"line":45,"column":49}},"33":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"34":{"start":{"line":47,"column":28},"end":{"line":47,"column":55}},"35":{"start":{"line":48,"column":28},"end":{"line":48,"column":57}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":30}},"37":{"start":{"line":52,"column":16},"end":{"line":52,"column":31}},"38":{"start":{"line":57,"column":8},"end":{"line":67,"column":11}},"39":{"start":{"line":58,"column":23},"end":{"line":58,"column":49}},"40":{"start":{"line":59,"column":12},"end":{"line":66,"column":13}},"41":{"start":{"line":60,"column":28},"end":{"line":60,"column":52}},"42":{"start":{"line":61,"column":28},"end":{"line":61,"column":65}},"43":{"start":{"line":62,"column":16},"end":{"line":62,"column":30}},"44":{"start":{"line":65,"column":16},"end":{"line":65,"column":31}},"45":{"start":{"line":70,"column":8},"end":{"line":80,"column":11}},"46":{"start":{"line":71,"column":23},"end":{"line":71,"column":49}},"47":{"start":{"line":72,"column":12},"end":{"line":79,"column":13}},"48":{"start":{"line":73,"column":28},"end":{"line":73,"column":49}},"49":{"start":{"line":74,"column":28},"end":{"line":74,"column":57}},"50":{"start":{"line":75,"column":16},"end":{"line":75,"column":30}},"51":{"start":{"line":78,"column":16},"end":{"line":78,"column":31}},"52":{"start":{"line":83,"column":0},"end":{"line":83,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllRents","decl":{"start":{"line":17,"column":27},"end":{"line":17,"column":39}},"loc":{"start":{"line":17,"column":42},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneRent","decl":{"start":{"line":30,"column":25},"end":{"line":30,"column":35}},"loc":{"start":{"line":30,"column":44},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31},"12":{"name":"getRentsByUserId","decl":{"start":{"line":43,"column":31},"end":{"line":43,"column":47}},"loc":{"start":{"line":43,"column":56},"end":{"line":55,"column":5}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":54,"column":9}},"line":44},"14":{"name":"createOneRent","decl":{"start":{"line":56,"column":28},"end":{"line":56,"column":41}},"loc":{"start":{"line":56,"column":58},"end":{"line":68,"column":5}},"line":56},"15":{"name":"(anonymous_15)","decl":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"loc":{"start":{"line":57,"column":60},"end":{"line":67,"column":9}},"line":57},"16":{"name":"createOneRent","decl":{"start":{"line":69,"column":28},"end":{"line":69,"column":41}},"loc":{"start":{"line":69,"column":50},"end":{"line":81,"column":5}},"line":69},"17":{"name":"(anonymous_17)","decl":{"start":{"line":70,"column":47},"end":{"line":70,"column":48}},"loc":{"start":{"line":70,"column":60},"end":{"line":80,"column":9}},"line":70}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/rent.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/rent.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kDAAgC;AAEhC,MAAM,SAAS,GAAG;IACd,YAAY,EAAE,SAAe,YAAY;;YACrC,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,kBAAkB,CAAC;gBAE/B,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAEhC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,UAAU,EAAE,SAAe,UAAU,CAAC,MAAc;;YAChD,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,kBAAkB,CAAC;gBAC/B,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1C,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,gBAAgB,EAAE,SAAe,gBAAgB,CAAC,MAAc;;YAC5D,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,2BAA2B,CAAC;gBACxC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1C,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,aAAa,EAAE,SAAe,aAAa,CAAC,MAAc,EAAE,MAAc;;YACtE,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,wBAAwB,CAAC;gBACrC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC;gBAClD,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,aAAa,EAAE,SAAe,aAAa,CAAC,MAAc;;YACtD,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,qBAAqB,CAAC;gBAClC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC1C,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;CACJ,CAAC;AAEF,kBAAe,SAAS,CAAC","sourcesContent":["import database from '../db/db';\n\nconst rentModel = {\n    showAllRents: async function showAllRents() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_rents()`;\n\n            const res = await db.query(sql);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getOneRent: async function getOneRent(rentId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_rent(?)`;\n            const res = await db.query(sql, [rentId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getRentsByUserId: async function getRentsByUserId(userId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_rents_by_user(?)`;\n            const res = await db.query(sql, [userId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    createOneRent: async function createOneRent(userId: string, bikeId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL create_rent(?, ?)`;\n            const res = await db.query(sql, [userId, bikeId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateOneRent: async function createOneRent(rentId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_rent(?)`;\n            const res = await db.query(sql, [rentId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default rentModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e22374ae8270ee5a529b4cf57048137317426c9b","contentHash":"097bfa881e2c2cf35c3aea1a08cc04252f7d8230d63ec409c9002d7409327584"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/admin.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/admin.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":16},"end":{"line":16,"column":59}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":30,"column":4}},"19":{"start":{"line":18,"column":35},"end":{"line":30,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":29,"column":5}},"21":{"start":{"line":20,"column":26},"end":{"line":20,"column":63}},"22":{"start":{"line":21,"column":30},"end":{"line":21,"column":67}},"23":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":77}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":47}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":36}},"27":{"start":{"line":31,"column":0},"end":{"line":43,"column":4}},"28":{"start":{"line":31,"column":39},"end":{"line":43,"column":2}},"29":{"start":{"line":32,"column":4},"end":{"line":42,"column":5}},"30":{"start":{"line":33,"column":25},"end":{"line":33,"column":73}},"31":{"start":{"line":34,"column":29},"end":{"line":34,"column":65}},"32":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"33":{"start":{"line":36,"column":12},"end":{"line":36,"column":86}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":46}},"35":{"start":{"line":41,"column":8},"end":{"line":41,"column":43}},"36":{"start":{"line":44,"column":0},"end":{"line":64,"column":4}},"37":{"start":{"line":44,"column":36},"end":{"line":64,"column":2}},"38":{"start":{"line":45,"column":4},"end":{"line":63,"column":5}},"39":{"start":{"line":46,"column":26},"end":{"line":53,"column":9}},"40":{"start":{"line":54,"column":25},"end":{"line":54,"column":189}},"41":{"start":{"line":55,"column":8},"end":{"line":59,"column":56}},"42":{"start":{"line":62,"column":8},"end":{"line":62,"column":43}},"43":{"start":{"line":65,"column":0},"end":{"line":65,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":21},"end":{"line":18,"column":22}},"loc":{"start":{"line":18,"column":35},"end":{"line":30,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":69},"end":{"line":18,"column":70}},"loc":{"start":{"line":18,"column":82},"end":{"line":30,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":31,"column":25},"end":{"line":31,"column":26}},"loc":{"start":{"line":31,"column":39},"end":{"line":43,"column":2}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":73},"end":{"line":31,"column":74}},"loc":{"start":{"line":31,"column":86},"end":{"line":43,"column":1}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":44,"column":22},"end":{"line":44,"column":23}},"loc":{"start":{"line":44,"column":36},"end":{"line":64,"column":2}},"line":44},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":70},"end":{"line":44,"column":71}},"loc":{"start":{"line":44,"column":83},"end":{"line":64,"column":1}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"9":{"loc":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},{"start":{"line":35,"column":8},"end":{"line":37,"column":9}}],"line":35}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/admin.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/admin.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport adminModel from '../models/admin';\nconst router = Router();\n\ninterface AdminInfo {\n    FirstName: string;\n    LastName: string;\n    PhoneNumber: string;\n    EmailAdress: string;\n    Authority: number;\n    Password: string;\n}\n\n/**\n * Admin ROUTE\n * /:\n *   get:\n *     summary: Display all admins\n *     description: Render admin list\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/admin', async (req: Request, res: Response) => {\n    try {\n        const allAdmins = await adminModel.showAllAdmins();\n\n        const allAdminsData = JSON.parse(JSON.stringify(allAdmins));\n\n        if (allAdminsData[0].length === 0) {\n            return res.status(404).send('No admins currently in the system');\n        }\n        return res.status(200).send(allAdmins);\n    } catch (error) {\n        res.status(404).send(error);\n    }\n});\n\n/**\n * Admin ROUTE\n *  /admin/:id:\n *   get:\n *     summary: One admin\n *     description: Render admin by adminId\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.get('/admin/:id', async (req: Request, res: Response) => {\n    try {\n        const oneAdmin = await adminModel.getOneAdmin(req.params.id);\n        const oneAdminData = JSON.parse(JSON.stringify(oneAdmin));\n        if (oneAdminData[0].length === 0) {\n            return res.status(404).send(`No admin for Id ${req.params.id} was found`);\n        }\n        return res.status(200).send(oneAdmin);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Admin ROUTE\n *  /admin/:id:\n *   get:\n *     summary: Create one admin\n *     description: Create Admin with information\n *     { firstName, lastName,phoneNumber, emailAdress, authority, password }\n *  @param {Request}  req  The incoming request.\n *  @param {Response} res  The outgoing response.\n *  @param {Function} next Next to call in chain of middleware.\n *\n * @returns {Response}\n */\nrouter.post('/admin', async (req: Request, res: Response) => {\n    try {\n        const adminInfo = {\n            firstName: req.body.firstName,\n            lastName: req.body.lastName,\n            phoneNumber: req.body.phoneNumber,\n            emailAdress: req.body.emailAdress,\n            authority: req.body.authority,\n            password: req.body.password,\n        };\n\n        const newAdmin = await adminModel.createOneAdmin(\n            adminInfo.firstName,\n            adminInfo.lastName,\n            adminInfo.phoneNumber,\n            adminInfo.emailAdress,\n            adminInfo.authority,\n            adminInfo.password\n        );\n\n        res.status(201).send(\n            `Admin has been created with the following information:\\n\n                firstName: ${adminInfo.firstName},\n                lastName: ${adminInfo.lastName}, \n                phoneNumber: ${adminInfo.phoneNumber}, \n                emailAdress: ${adminInfo.emailAdress}`\n        );\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3e9659c19289092c593508615c1327d52a5ddd6e","contentHash":"2570e81bcbab31e8f5c33f702563a8a77aff5191041536948adf7799f54f7835"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/admin.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/admin.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":19},"end":{"line":56,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":48}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":47}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":58}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":8},"end":{"line":54,"column":11}},"32":{"start":{"line":45,"column":23},"end":{"line":45,"column":49}},"33":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"34":{"start":{"line":47,"column":28},"end":{"line":47,"column":65}},"35":{"start":{"line":48,"column":28},"end":{"line":48,"column":117}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":30}},"37":{"start":{"line":52,"column":16},"end":{"line":52,"column":31}},"38":{"start":{"line":57,"column":0},"end":{"line":57,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllAdmins","decl":{"start":{"line":17,"column":28},"end":{"line":17,"column":41}},"loc":{"start":{"line":17,"column":44},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneAdmin","decl":{"start":{"line":30,"column":26},"end":{"line":30,"column":37}},"loc":{"start":{"line":30,"column":47},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31},"12":{"name":"createOneAdmin","decl":{"start":{"line":43,"column":29},"end":{"line":43,"column":43}},"loc":{"start":{"line":43,"column":112},"end":{"line":55,"column":5}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":54,"column":9}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/admin.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/admin.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kDAAgC;AAEhC,MAAM,UAAU,GAAG;IAMf,aAAa,EAAE,SAAe,aAAa;;YACvC,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,oBAAoB,CAAC;gBACjC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAEhC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,WAAW,EAAE,SAAe,WAAW,CAAC,OAAe;;YACnD,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,mBAAmB,CAAC;gBAChC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC3C,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,cAAc,EAAE,SAAe,cAAc,CACzC,SAAiB,EACjB,QAAgB,EAChB,WAAmB,EACnB,WAAmB,EACnB,SAAiB,EACjB,QAAgB;;YAEhB,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,qCAAqC,CAAC;gBAClD,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,WAAW,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;gBACtG,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;CACJ,CAAC;AAEF,kBAAe,UAAU,CAAC","sourcesContent":["import database from '../db/db';\n\nconst adminModel = {\n    /**\n     * Function to show all stations\n     * @async\n     * @returns {RowDataPacket} Resultset from the query.\n     */\n    showAllAdmins: async function showAllAdmins() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_admins();`;\n            const res = await db.query(sql);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getOneAdmin: async function getOneAdmin(adminId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_admin(?)`;\n            const res = await db.query(sql, [adminId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    createOneAdmin: async function createOneAdmin(\n        firstName: string,\n        lastName: string,\n        phoneNumber: number,\n        emailAdress: string,\n        authority: number,\n        password: string\n    ) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL create_admin(?, ?, ?, ?, ?, ?)`;\n            const res = await db.query(sql, [firstName, lastName, phoneNumber, emailAdress, authority, password]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default adminModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"60f1b22decf2a39805d1b6fa8a34fcce21ca06b4","contentHash":"013c6d2fb2b5a4d350bafe309fd08bafb109375ef66391679a6257b1f7c736f9"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/invoice.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/invoice.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":18},"end":{"line":16,"column":63}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":30,"column":4}},"19":{"start":{"line":18,"column":37},"end":{"line":30,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":29,"column":5}},"21":{"start":{"line":20,"column":28},"end":{"line":20,"column":69}},"22":{"start":{"line":21,"column":32},"end":{"line":21,"column":71}},"23":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":79}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":49}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":43}},"27":{"start":{"line":31,"column":0},"end":{"line":43,"column":4}},"28":{"start":{"line":31,"column":41},"end":{"line":43,"column":2}},"29":{"start":{"line":32,"column":4},"end":{"line":42,"column":5}},"30":{"start":{"line":33,"column":27},"end":{"line":33,"column":79}},"31":{"start":{"line":34,"column":31},"end":{"line":34,"column":69}},"32":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"33":{"start":{"line":36,"column":12},"end":{"line":36,"column":93}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":48}},"35":{"start":{"line":41,"column":8},"end":{"line":41,"column":43}},"36":{"start":{"line":44,"column":0},"end":{"line":56,"column":4}},"37":{"start":{"line":44,"column":46},"end":{"line":56,"column":2}},"38":{"start":{"line":45,"column":4},"end":{"line":55,"column":5}},"39":{"start":{"line":46,"column":29},"end":{"line":46,"column":87}},"40":{"start":{"line":47,"column":33},"end":{"line":47,"column":73}},"41":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"42":{"start":{"line":49,"column":12},"end":{"line":49,"column":113}},"43":{"start":{"line":51,"column":8},"end":{"line":51,"column":50}},"44":{"start":{"line":54,"column":8},"end":{"line":54,"column":43}},"45":{"start":{"line":57,"column":0},"end":{"line":75,"column":4}},"46":{"start":{"line":57,"column":47},"end":{"line":75,"column":2}},"47":{"start":{"line":58,"column":4},"end":{"line":74,"column":5}},"48":{"start":{"line":59,"column":28},"end":{"line":64,"column":9}},"49":{"start":{"line":65,"column":27},"end":{"line":65,"column":147}},"50":{"start":{"line":66,"column":8},"end":{"line":70,"column":48}},"51":{"start":{"line":73,"column":8},"end":{"line":73,"column":43}},"52":{"start":{"line":76,"column":0},"end":{"line":86,"column":4}},"53":{"start":{"line":76,"column":48},"end":{"line":86,"column":2}},"54":{"start":{"line":77,"column":4},"end":{"line":85,"column":5}},"55":{"start":{"line":78,"column":26},"end":{"line":78,"column":49}},"56":{"start":{"line":79,"column":23},"end":{"line":79,"column":38}},"57":{"start":{"line":80,"column":33},"end":{"line":80,"column":95}},"58":{"start":{"line":81,"column":8},"end":{"line":81,"column":93}},"59":{"start":{"line":84,"column":8},"end":{"line":84,"column":43}},"60":{"start":{"line":87,"column":0},"end":{"line":97,"column":4}},"61":{"start":{"line":87,"column":48},"end":{"line":97,"column":2}},"62":{"start":{"line":88,"column":4},"end":{"line":96,"column":5}},"63":{"start":{"line":89,"column":26},"end":{"line":89,"column":49}},"64":{"start":{"line":90,"column":23},"end":{"line":90,"column":38}},"65":{"start":{"line":91,"column":33},"end":{"line":91,"column":95}},"66":{"start":{"line":92,"column":8},"end":{"line":92,"column":93}},"67":{"start":{"line":95,"column":8},"end":{"line":95,"column":43}},"68":{"start":{"line":98,"column":0},"end":{"line":98,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":37},"end":{"line":30,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":71},"end":{"line":18,"column":72}},"loc":{"start":{"line":18,"column":84},"end":{"line":30,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":31,"column":27},"end":{"line":31,"column":28}},"loc":{"start":{"line":31,"column":41},"end":{"line":43,"column":2}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":75},"end":{"line":31,"column":76}},"loc":{"start":{"line":31,"column":88},"end":{"line":43,"column":1}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":44,"column":32},"end":{"line":44,"column":33}},"loc":{"start":{"line":44,"column":46},"end":{"line":56,"column":2}},"line":44},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":80},"end":{"line":44,"column":81}},"loc":{"start":{"line":44,"column":93},"end":{"line":56,"column":1}},"line":44},"14":{"name":"(anonymous_14)","decl":{"start":{"line":57,"column":33},"end":{"line":57,"column":34}},"loc":{"start":{"line":57,"column":47},"end":{"line":75,"column":2}},"line":57},"15":{"name":"(anonymous_15)","decl":{"start":{"line":57,"column":81},"end":{"line":57,"column":82}},"loc":{"start":{"line":57,"column":94},"end":{"line":75,"column":1}},"line":57},"16":{"name":"(anonymous_16)","decl":{"start":{"line":76,"column":34},"end":{"line":76,"column":35}},"loc":{"start":{"line":76,"column":48},"end":{"line":86,"column":2}},"line":76},"17":{"name":"(anonymous_17)","decl":{"start":{"line":76,"column":82},"end":{"line":76,"column":83}},"loc":{"start":{"line":76,"column":95},"end":{"line":86,"column":1}},"line":76},"18":{"name":"(anonymous_18)","decl":{"start":{"line":87,"column":34},"end":{"line":87,"column":35}},"loc":{"start":{"line":87,"column":48},"end":{"line":97,"column":2}},"line":87},"19":{"name":"(anonymous_19)","decl":{"start":{"line":87,"column":82},"end":{"line":87,"column":83}},"loc":{"start":{"line":87,"column":95},"end":{"line":97,"column":1}},"line":87}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"9":{"loc":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},{"start":{"line":35,"column":8},"end":{"line":37,"column":9}}],"line":35},"10":{"loc":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},{"start":{"line":48,"column":8},"end":{"line":50,"column":9}}],"line":48}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0],"10":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/invoice.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/invoice.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport invoiceModel from '../models/invoice';\nconst router = Router();\n\ninterface InvoiceInfo {\n    RentId: number;\n    UserId: number;\n    Amount: number;\n    Status: number;\n}\n\n/**\n * Invoice ROUTE\n * /:\n *   get:\n *     summary: Display all Invoices\n *     description: Render list of invoices\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/invoice', async (req: Request, res: Response) => {\n    try {\n        const allInvoices = await invoiceModel.showAllInvoices();\n\n        const allInvoicesData = JSON.parse(JSON.stringify(allInvoices));\n        if (allInvoicesData[0].length === 0) {\n            return res.status(404).send('No Invoices currently in the system');\n        }\n        return res.status(200).send(allInvoices);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Invoice ROUTE\n * /:\n *   get:\n *     summary: Display information for one invoice\n *     description: Render a specific invoice\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/invoice/:id', async (req: Request, res: Response) => {\n    try {\n        const oneInvoice = await invoiceModel.getOneInvoice(req.params.id);\n\n        const oneInvoiceData = JSON.parse(JSON.stringify(oneInvoice));\n        if (oneInvoiceData[0].length === 0) {\n            return res.status(404).send(`No Invoice with id ${req.params.id} in the system`);\n        }\n        return res.status(200).send(oneInvoice);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Invoice ROUTE\n * /:\n *   get:\n *     summary: Display all invoices for a user\n *     description: Render all invoices for a user\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/invoice/user/:id', async (req: Request, res: Response) => {\n    try {\n        const userInvoices = await invoiceModel.getInvoicesByUserId(req.params.id);\n\n        const userInvoicesData = JSON.parse(JSON.stringify(userInvoices));\n        if (userInvoicesData[0].length === 0) {\n            return res.status(404).send(`User with id ${req.params.id} currently has no invoices in the system`);\n        }\n        return res.status(200).send(userInvoices);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Invoice ROUTE\n * /:\n *   get:\n *     summary: Create a invoice for a user\n *     description: Create a invoice for a user with information\n *     { Rent_id, User_id, PhoneNumber, Amount, Status }\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.post('/invoice/user/:id', async (req: Request, res: Response) => {\n    try {\n        const invoiceInfo = {\n            rentId: req.body.rentId,\n            userId: parseInt(req.params.id),\n            amount: req.body.amount,\n            status: req.body.status,\n        };\n\n        const newInvoice = await invoiceModel.createOneInvoice(\n            invoiceInfo.rentId,\n            invoiceInfo.userId,\n            invoiceInfo.amount,\n            invoiceInfo.status\n        );\n\n        res.status(201).send(\n            `New Invoice has been created with information:\\n\n                RentId: ${invoiceInfo.rentId},\n                UserId: ${invoiceInfo.userId}, \n                Amount: ${invoiceInfo.amount}, \n                Status: ${invoiceInfo.status}`\n        );\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Invoice ROUTE\n * /:\n *   put:\n *     summary: Update invoice status\n *     description: Update an  status invoice\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/invoice/status/:id', async (req: Request, res: Response) => {\n    try {\n        const invoiceId = parseInt(req.params.id);\n        const status = req.body.status;\n\n        const newInvoiceStatus = await invoiceModel.updateInvoiceStatus(invoiceId, status);\n\n        res.status(201).send(`Invoice with id ${invoiceId} has changed status to ${status}`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Invoice ROUTE\n * /:\n *   put:\n *     summary: Update invoice amount\n *     description: Update an invoice amount\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/invoice/amount/:id', async (req: Request, res: Response) => {\n    try {\n        const invoiceId = parseInt(req.params.id);\n        const amount = req.body.amount;\n\n        const newInvoiceAmount = await invoiceModel.updateInvoiceAmount(invoiceId, amount);\n\n        res.status(201).send(`Invoice with id ${invoiceId} has changed amount to ${amount}`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"033db3449f8678779f44b855bc438d59464cbc15","contentHash":"b393b2f2e420759fbc74fe91bbb8abb542faa862e86ffb9bc44da69408ea2f4a"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/invoice.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/invoice.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":21},"end":{"line":95,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":50}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":49}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":60}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":8},"end":{"line":54,"column":11}},"32":{"start":{"line":45,"column":23},"end":{"line":45,"column":49}},"33":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"34":{"start":{"line":47,"column":28},"end":{"line":47,"column":58}},"35":{"start":{"line":48,"column":28},"end":{"line":48,"column":57}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":30}},"37":{"start":{"line":52,"column":16},"end":{"line":52,"column":31}},"38":{"start":{"line":57,"column":8},"end":{"line":67,"column":11}},"39":{"start":{"line":58,"column":23},"end":{"line":58,"column":49}},"40":{"start":{"line":59,"column":12},"end":{"line":66,"column":13}},"41":{"start":{"line":60,"column":28},"end":{"line":60,"column":61}},"42":{"start":{"line":61,"column":28},"end":{"line":61,"column":81}},"43":{"start":{"line":62,"column":16},"end":{"line":62,"column":30}},"44":{"start":{"line":65,"column":16},"end":{"line":65,"column":31}},"45":{"start":{"line":70,"column":8},"end":{"line":80,"column":11}},"46":{"start":{"line":71,"column":23},"end":{"line":71,"column":49}},"47":{"start":{"line":72,"column":12},"end":{"line":79,"column":13}},"48":{"start":{"line":73,"column":28},"end":{"line":73,"column":62}},"49":{"start":{"line":74,"column":28},"end":{"line":74,"column":68}},"50":{"start":{"line":75,"column":16},"end":{"line":75,"column":30}},"51":{"start":{"line":78,"column":16},"end":{"line":78,"column":31}},"52":{"start":{"line":83,"column":8},"end":{"line":93,"column":11}},"53":{"start":{"line":84,"column":23},"end":{"line":84,"column":49}},"54":{"start":{"line":85,"column":12},"end":{"line":92,"column":13}},"55":{"start":{"line":86,"column":28},"end":{"line":86,"column":62}},"56":{"start":{"line":87,"column":28},"end":{"line":87,"column":68}},"57":{"start":{"line":88,"column":16},"end":{"line":88,"column":30}},"58":{"start":{"line":91,"column":16},"end":{"line":91,"column":31}},"59":{"start":{"line":96,"column":0},"end":{"line":96,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllInvoices","decl":{"start":{"line":17,"column":30},"end":{"line":17,"column":45}},"loc":{"start":{"line":17,"column":48},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneInvoice","decl":{"start":{"line":30,"column":28},"end":{"line":30,"column":41}},"loc":{"start":{"line":30,"column":53},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31},"12":{"name":"getOneInvoice","decl":{"start":{"line":43,"column":34},"end":{"line":43,"column":47}},"loc":{"start":{"line":43,"column":56},"end":{"line":55,"column":5}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":54,"column":9}},"line":44},"14":{"name":"createOneInvoice","decl":{"start":{"line":56,"column":31},"end":{"line":56,"column":47}},"loc":{"start":{"line":56,"column":80},"end":{"line":68,"column":5}},"line":56},"15":{"name":"(anonymous_15)","decl":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"loc":{"start":{"line":57,"column":60},"end":{"line":67,"column":9}},"line":57},"16":{"name":"updateInvoiceStatus","decl":{"start":{"line":69,"column":34},"end":{"line":69,"column":53}},"loc":{"start":{"line":69,"column":73},"end":{"line":81,"column":5}},"line":69},"17":{"name":"(anonymous_17)","decl":{"start":{"line":70,"column":47},"end":{"line":70,"column":48}},"loc":{"start":{"line":70,"column":60},"end":{"line":80,"column":9}},"line":70},"18":{"name":"updateInvoiceAmount","decl":{"start":{"line":82,"column":34},"end":{"line":82,"column":53}},"loc":{"start":{"line":82,"column":73},"end":{"line":94,"column":5}},"line":82},"19":{"name":"(anonymous_19)","decl":{"start":{"line":83,"column":47},"end":{"line":83,"column":48}},"loc":{"start":{"line":83,"column":60},"end":{"line":93,"column":9}},"line":83}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/invoice.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/invoice.ts"],"names":[],"mappings":"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","sourcesContent":["import database from '../db/db';\n\nconst invoiceModel = {\n    /**\n     * Function to show all stations\n     * @async\n     * @returns {RowDataPacket} Resultset from the query.\n     */\n    showAllInvoices: async function showAllInvoices() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_invoices();`;\n            const res = await db.query(sql);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getOneInvoice: async function getOneInvoice(invoiceId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_invoice(?)`;\n            const res = await db.query(sql, [invoiceId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getInvoicesByUserId: async function getOneInvoice(userId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_invoices_by_user(?)`;\n            const res = await db.query(sql, [userId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    createOneInvoice: async function createOneInvoice(rentId: number, userId: number, amount: number, status: number) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL create_invoice(?, ?, ?, ?)`;\n            const res = await db.query(sql, [rentId, userId, amount, status]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateInvoiceStatus: async function updateInvoiceStatus(invoiceId: number, status: number) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_invoice_status(?, ?)`;\n            const res = await db.query(sql, [invoiceId, status]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateInvoiceAmount: async function updateInvoiceAmount(invoiceId: number, amount: number) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_invoice_amount(?, ?)`;\n            const res = await db.query(sql, [invoiceId, amount]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default invoiceModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2d22b849259cc1b83223a5356da2b48b14e85463","contentHash":"3cd0f0594ce5035fb7c63b2d965ed4e8a08bbdd111a9a6b1edb1d65618b80c01"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/geofence.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/geofence.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":65}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":30,"column":4}},"19":{"start":{"line":18,"column":38},"end":{"line":30,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":29,"column":5}},"21":{"start":{"line":20,"column":29},"end":{"line":20,"column":72}},"22":{"start":{"line":21,"column":33},"end":{"line":21,"column":73}},"23":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"24":{"start":{"line":23,"column":12},"end":{"line":23,"column":80}},"25":{"start":{"line":25,"column":8},"end":{"line":25,"column":50}},"26":{"start":{"line":28,"column":8},"end":{"line":28,"column":43}},"27":{"start":{"line":31,"column":0},"end":{"line":43,"column":4}},"28":{"start":{"line":31,"column":42},"end":{"line":43,"column":2}},"29":{"start":{"line":32,"column":4},"end":{"line":42,"column":5}},"30":{"start":{"line":33,"column":28},"end":{"line":33,"column":82}},"31":{"start":{"line":34,"column":32},"end":{"line":34,"column":71}},"32":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"33":{"start":{"line":36,"column":12},"end":{"line":36,"column":94}},"34":{"start":{"line":38,"column":8},"end":{"line":38,"column":49}},"35":{"start":{"line":41,"column":8},"end":{"line":41,"column":43}},"36":{"start":{"line":44,"column":0},"end":{"line":61,"column":4}},"37":{"start":{"line":44,"column":39},"end":{"line":61,"column":2}},"38":{"start":{"line":45,"column":4},"end":{"line":60,"column":5}},"39":{"start":{"line":46,"column":29},"end":{"line":50,"column":9}},"40":{"start":{"line":51,"column":29},"end":{"line":51,"column":135}},"41":{"start":{"line":52,"column":8},"end":{"line":56,"column":11}},"42":{"start":{"line":59,"column":8},"end":{"line":59,"column":43}},"43":{"start":{"line":62,"column":0},"end":{"line":72,"column":4}},"44":{"start":{"line":62,"column":54},"end":{"line":72,"column":2}},"45":{"start":{"line":63,"column":4},"end":{"line":71,"column":5}},"46":{"start":{"line":64,"column":27},"end":{"line":64,"column":40}},"47":{"start":{"line":65,"column":28},"end":{"line":65,"column":48}},"48":{"start":{"line":66,"column":32},"end":{"line":66,"column":99}},"49":{"start":{"line":67,"column":8},"end":{"line":67,"column":109}},"50":{"start":{"line":70,"column":8},"end":{"line":70,"column":43}},"51":{"start":{"line":73,"column":0},"end":{"line":83,"column":4}},"52":{"start":{"line":73,"column":47},"end":{"line":83,"column":2}},"53":{"start":{"line":74,"column":4},"end":{"line":82,"column":5}},"54":{"start":{"line":75,"column":27},"end":{"line":75,"column":40}},"55":{"start":{"line":76,"column":21},"end":{"line":76,"column":34}},"56":{"start":{"line":77,"column":25},"end":{"line":77,"column":78}},"57":{"start":{"line":78,"column":8},"end":{"line":78,"column":95}},"58":{"start":{"line":81,"column":8},"end":{"line":81,"column":43}},"59":{"start":{"line":84,"column":0},"end":{"line":94,"column":4}},"60":{"start":{"line":84,"column":47},"end":{"line":94,"column":2}},"61":{"start":{"line":85,"column":4},"end":{"line":93,"column":5}},"62":{"start":{"line":86,"column":27},"end":{"line":86,"column":40}},"63":{"start":{"line":87,"column":21},"end":{"line":87,"column":34}},"64":{"start":{"line":88,"column":25},"end":{"line":88,"column":78}},"65":{"start":{"line":89,"column":8},"end":{"line":89,"column":95}},"66":{"start":{"line":92,"column":8},"end":{"line":92,"column":43}},"67":{"start":{"line":95,"column":0},"end":{"line":104,"column":4}},"68":{"start":{"line":95,"column":45},"end":{"line":104,"column":2}},"69":{"start":{"line":96,"column":4},"end":{"line":103,"column":5}},"70":{"start":{"line":97,"column":27},"end":{"line":97,"column":40}},"71":{"start":{"line":98,"column":31},"end":{"line":98,"column":85}},"72":{"start":{"line":99,"column":8},"end":{"line":99,"column":97}},"73":{"start":{"line":102,"column":8},"end":{"line":102,"column":43}},"74":{"start":{"line":105,"column":0},"end":{"line":105,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":24},"end":{"line":18,"column":25}},"loc":{"start":{"line":18,"column":38},"end":{"line":30,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":72},"end":{"line":18,"column":73}},"loc":{"start":{"line":18,"column":85},"end":{"line":30,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":31,"column":28},"end":{"line":31,"column":29}},"loc":{"start":{"line":31,"column":42},"end":{"line":43,"column":2}},"line":31},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":76},"end":{"line":31,"column":77}},"loc":{"start":{"line":31,"column":89},"end":{"line":43,"column":1}},"line":31},"12":{"name":"(anonymous_12)","decl":{"start":{"line":44,"column":25},"end":{"line":44,"column":26}},"loc":{"start":{"line":44,"column":39},"end":{"line":61,"column":2}},"line":44},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":73},"end":{"line":44,"column":74}},"loc":{"start":{"line":44,"column":86},"end":{"line":61,"column":1}},"line":44},"14":{"name":"(anonymous_14)","decl":{"start":{"line":62,"column":40},"end":{"line":62,"column":41}},"loc":{"start":{"line":62,"column":54},"end":{"line":72,"column":2}},"line":62},"15":{"name":"(anonymous_15)","decl":{"start":{"line":62,"column":88},"end":{"line":62,"column":89}},"loc":{"start":{"line":62,"column":101},"end":{"line":72,"column":1}},"line":62},"16":{"name":"(anonymous_16)","decl":{"start":{"line":73,"column":33},"end":{"line":73,"column":34}},"loc":{"start":{"line":73,"column":47},"end":{"line":83,"column":2}},"line":73},"17":{"name":"(anonymous_17)","decl":{"start":{"line":73,"column":81},"end":{"line":73,"column":82}},"loc":{"start":{"line":73,"column":94},"end":{"line":83,"column":1}},"line":73},"18":{"name":"(anonymous_18)","decl":{"start":{"line":84,"column":33},"end":{"line":84,"column":34}},"loc":{"start":{"line":84,"column":47},"end":{"line":94,"column":2}},"line":84},"19":{"name":"(anonymous_19)","decl":{"start":{"line":84,"column":81},"end":{"line":84,"column":82}},"loc":{"start":{"line":84,"column":94},"end":{"line":94,"column":1}},"line":84},"20":{"name":"(anonymous_20)","decl":{"start":{"line":95,"column":31},"end":{"line":95,"column":32}},"loc":{"start":{"line":95,"column":45},"end":{"line":104,"column":2}},"line":95},"21":{"name":"(anonymous_21)","decl":{"start":{"line":95,"column":79},"end":{"line":95,"column":80}},"loc":{"start":{"line":95,"column":92},"end":{"line":104,"column":1}},"line":95}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12},"8":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"9":{"loc":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},{"start":{"line":35,"column":8},"end":{"line":37,"column":9}}],"line":35}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1],"8":[0,0],"9":[0,0]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/geofence.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/geofence.ts"],"names":[],"mappings":"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","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport geofenceModel from '../models/geofence';\nconst router = Router();\n\ninterface GeofenceInfo {\n    Coordinates: string;\n    Info: string;\n    Type: number;\n}\n\n/**\n * Geofence ROUTE\n * /:\n *   get:\n *     summary: Display all geofences\n *     description: Render list of all geofences\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/geofence', async (req: Request, res: Response) => {\n    try {\n        const allGeofences = await geofenceModel.showAllGeofences();\n        const allGeofencesData = JSON.parse(JSON.stringify(allGeofences));\n        if (allGeofencesData[0].length === 0) {\n            return res.status(404).send('No geofences currently in the system');\n        }\n        return res.status(200).send(allGeofences);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Geofence ROUTE\n * /:\n *   get:\n *     summary: Display information for one geofence\n *     description: Render a specific geofence\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/geofence/:id', async (req: Request, res: Response) => {\n    try {\n        const oneGeofence = await geofenceModel.getOneGeofence(req.params.id);\n\n        const oneGeofenceData = JSON.parse(JSON.stringify(oneGeofence));\n        if (oneGeofenceData[0].length === 0) {\n            return res.status(404).send(`No geofence with id ${req.params.id} in the system`);\n        }\n        return res.status(200).send(oneGeofence);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Geofence ROUTE\n * /:\n *   get:\n *     summary: Create one geofence\n *     description: Create one geofence with information:\n * { coordinates, info , type }\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.post('/geofence', async (req: Request, res: Response) => {\n    try {\n        const geofenceInfo = {\n            coordinates: req.body.coordinates,\n            info: req.body.info,\n            type: req.body.type,\n        };\n\n        const _newGeofence = await geofenceModel.createOneGeofence(\n            geofenceInfo.coordinates,\n            geofenceInfo.info,\n            geofenceInfo.type\n        );\n\n        return res.status(200).send(`A new geofence has been created with info:\\n\n        Coordinates: ${geofenceInfo.coordinates},\n        Info: ${geofenceInfo.info},\n        Type: ${geofenceInfo.type}\n        `);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Geofence ROUTE\n * /:\n *   put:\n *     summary: Update coordinates for one geofence\n *     description: Update one geofence with information: { coordinates }\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/geofence/coordinates/:id', async (req: Request, res: Response) => {\n    try {\n        const geofenceId = req.params.id;\n        const coordinates = req.body.coordinates;\n\n        const _newCoordinates = await geofenceModel.updateCoordinates(geofenceId, coordinates);\n\n        return res.status(200).send(`Geofence with id has been updated with new coordinates ${coordinates}`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Geofence ROUTE\n * /:\n *   put:\n *     summary: Update info for one geofence\n *     description: Update one geofence with information: { info }\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/geofence/info/:id', async (req: Request, res: Response) => {\n    try {\n        const geofenceId = req.params.id;\n        const info = req.body.info;\n\n        const _newInfo = await geofenceModel.updateInfo(geofenceId, info);\n\n        return res.status(200).send(`Geofence with id has been updated with new info ${info}`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Geofence ROUTE\n * /:\n *   put:\n *     summary: Update type for one geofence\n *     description: Update one geofence with information: { type }\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/geofence/type/:id', async (req: Request, res: Response) => {\n    try {\n        const geofenceId = req.params.id;\n        const type = req.body.type;\n\n        const _newType = await geofenceModel.updateType(geofenceId, type);\n\n        return res.status(200).send(`Geofence with id has been updated with new type ${type}`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Geofence ROUTE\n * /:\n *   post:\n *     summary: Delete one geofence\n *     description: Delete a geofence with its id\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.delete('/geofence/:id', async (req: Request, res: Response) => {\n    try {\n        const geofenceId = req.params.id;\n\n        const deleteGeofence = await geofenceModel.deleteOneGeofence(geofenceId);\n\n        return res.status(200).send(`Geofence with id ${geofenceId} has been deleted (Type 40)`);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f86ee3f65e2cca61f47efef58fa996b7bfbe8003","contentHash":"b4b204ee7f7ba160c727798755fe3ee143ad968ed89ac74233b73b62f8726d45"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/geofence.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/geofence.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":22},"end":{"line":108,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":51}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":50}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":61}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":8},"end":{"line":54,"column":11}},"32":{"start":{"line":45,"column":23},"end":{"line":45,"column":49}},"33":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"34":{"start":{"line":47,"column":28},"end":{"line":47,"column":59}},"35":{"start":{"line":48,"column":28},"end":{"line":48,"column":74}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":30}},"37":{"start":{"line":52,"column":16},"end":{"line":52,"column":31}},"38":{"start":{"line":57,"column":8},"end":{"line":67,"column":11}},"39":{"start":{"line":58,"column":23},"end":{"line":58,"column":49}},"40":{"start":{"line":59,"column":12},"end":{"line":66,"column":13}},"41":{"start":{"line":60,"column":28},"end":{"line":60,"column":68}},"42":{"start":{"line":61,"column":28},"end":{"line":61,"column":74}},"43":{"start":{"line":62,"column":16},"end":{"line":62,"column":30}},"44":{"start":{"line":65,"column":16},"end":{"line":65,"column":31}},"45":{"start":{"line":70,"column":8},"end":{"line":80,"column":11}},"46":{"start":{"line":71,"column":23},"end":{"line":71,"column":49}},"47":{"start":{"line":72,"column":12},"end":{"line":79,"column":13}},"48":{"start":{"line":73,"column":28},"end":{"line":73,"column":61}},"49":{"start":{"line":74,"column":28},"end":{"line":74,"column":67}},"50":{"start":{"line":75,"column":16},"end":{"line":75,"column":30}},"51":{"start":{"line":78,"column":16},"end":{"line":78,"column":31}},"52":{"start":{"line":83,"column":8},"end":{"line":93,"column":11}},"53":{"start":{"line":84,"column":23},"end":{"line":84,"column":49}},"54":{"start":{"line":85,"column":12},"end":{"line":92,"column":13}},"55":{"start":{"line":86,"column":28},"end":{"line":86,"column":61}},"56":{"start":{"line":87,"column":28},"end":{"line":87,"column":67}},"57":{"start":{"line":88,"column":16},"end":{"line":88,"column":30}},"58":{"start":{"line":91,"column":16},"end":{"line":91,"column":31}},"59":{"start":{"line":96,"column":8},"end":{"line":106,"column":11}},"60":{"start":{"line":97,"column":23},"end":{"line":97,"column":49}},"61":{"start":{"line":98,"column":12},"end":{"line":105,"column":13}},"62":{"start":{"line":99,"column":28},"end":{"line":99,"column":53}},"63":{"start":{"line":100,"column":28},"end":{"line":100,"column":61}},"64":{"start":{"line":101,"column":16},"end":{"line":101,"column":30}},"65":{"start":{"line":104,"column":16},"end":{"line":104,"column":31}},"66":{"start":{"line":109,"column":0},"end":{"line":109,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllGeofences","decl":{"start":{"line":17,"column":31},"end":{"line":17,"column":47}},"loc":{"start":{"line":17,"column":50},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneGeofence","decl":{"start":{"line":30,"column":29},"end":{"line":30,"column":43}},"loc":{"start":{"line":30,"column":56},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31},"12":{"name":"createOneGeofence","decl":{"start":{"line":43,"column":32},"end":{"line":43,"column":49}},"loc":{"start":{"line":43,"column":75},"end":{"line":55,"column":5}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":54,"column":9}},"line":44},"14":{"name":"updateCoordinates","decl":{"start":{"line":56,"column":32},"end":{"line":56,"column":49}},"loc":{"start":{"line":56,"column":75},"end":{"line":68,"column":5}},"line":56},"15":{"name":"(anonymous_15)","decl":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"loc":{"start":{"line":57,"column":60},"end":{"line":67,"column":9}},"line":57},"16":{"name":"updateInfo","decl":{"start":{"line":69,"column":25},"end":{"line":69,"column":35}},"loc":{"start":{"line":69,"column":54},"end":{"line":81,"column":5}},"line":69},"17":{"name":"(anonymous_17)","decl":{"start":{"line":70,"column":47},"end":{"line":70,"column":48}},"loc":{"start":{"line":70,"column":60},"end":{"line":80,"column":9}},"line":70},"18":{"name":"updateType","decl":{"start":{"line":82,"column":25},"end":{"line":82,"column":35}},"loc":{"start":{"line":82,"column":54},"end":{"line":94,"column":5}},"line":82},"19":{"name":"(anonymous_19)","decl":{"start":{"line":83,"column":47},"end":{"line":83,"column":48}},"loc":{"start":{"line":83,"column":60},"end":{"line":93,"column":9}},"line":83},"20":{"name":"deleteOneGeofence","decl":{"start":{"line":95,"column":32},"end":{"line":95,"column":49}},"loc":{"start":{"line":95,"column":62},"end":{"line":107,"column":5}},"line":95},"21":{"name":"(anonymous_21)","decl":{"start":{"line":96,"column":47},"end":{"line":96,"column":48}},"loc":{"start":{"line":96,"column":60},"end":{"line":106,"column":9}},"line":96}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/geofence.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/geofence.ts"],"names":[],"mappings":"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","sourcesContent":["import database from '../db/db';\n\nconst geofenceModel = {\n    /**\n     * Function to show all stations\n     * @async\n     * @returns {RowDataPacket} Resultset from the query.\n     */\n    showAllGeofences: async function showAllGeofences() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_geofences();`;\n            const res = await db.query(sql);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getOneGeofence: async function getOneGeofence(geofenceId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_geofence(?)`;\n            const res = await db.query(sql, [geofenceId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    createOneGeofence: async function createOneGeofence(coordinates: string, info: string, type: number) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL create_geofence(?, ? ,?)`;\n            const res = await db.query(sql, [coordinates, info, type]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateCoordinates: async function updateCoordinates(geofenceId: string, coordinates: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_geofence_coordinates(?, ?)`;\n            const res = await db.query(sql, [geofenceId, coordinates]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateInfo: async function updateInfo(geofenceId: string, info: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_geofence_info(?, ?)`;\n            const res = await db.query(sql, [geofenceId, info]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateType: async function updateType(geofenceId: string, type: number) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_geofence_type(?, ?)`;\n            const res = await db.query(sql, [geofenceId, type]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    deleteOneGeofence: async function deleteOneGeofence(geofenceId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL delete_geofence(?)`;\n            const res = await db.query(sql, [geofenceId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default geofenceModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b01fa31084f9916005bf64c43b7bc9c64d7b3fb8","contentHash":"a1561a89763b4148520d8e85cfc3c036afd5b3e3dbb9cdca992efd0a310855a9"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/charger.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/charger.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":19},"end":{"line":16,"column":65}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":26,"column":4}},"19":{"start":{"line":18,"column":37},"end":{"line":26,"column":2}},"20":{"start":{"line":19,"column":4},"end":{"line":25,"column":5}},"21":{"start":{"line":20,"column":28},"end":{"line":20,"column":70}},"22":{"start":{"line":21,"column":8},"end":{"line":21,"column":49}},"23":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"24":{"start":{"line":27,"column":0},"end":{"line":35,"column":4}},"25":{"start":{"line":27,"column":41},"end":{"line":35,"column":2}},"26":{"start":{"line":28,"column":4},"end":{"line":34,"column":5}},"27":{"start":{"line":29,"column":27},"end":{"line":29,"column":80}},"28":{"start":{"line":30,"column":8},"end":{"line":30,"column":48}},"29":{"start":{"line":33,"column":8},"end":{"line":33,"column":43}},"30":{"start":{"line":36,"column":0},"end":{"line":46,"column":4}},"31":{"start":{"line":36,"column":41},"end":{"line":46,"column":2}},"32":{"start":{"line":37,"column":4},"end":{"line":45,"column":5}},"33":{"start":{"line":38,"column":26},"end":{"line":38,"column":39}},"34":{"start":{"line":39,"column":23},"end":{"line":39,"column":38}},"35":{"start":{"line":40,"column":26},"end":{"line":40,"column":82}},"36":{"start":{"line":41,"column":8},"end":{"line":41,"column":105}},"37":{"start":{"line":44,"column":8},"end":{"line":44,"column":43}},"38":{"start":{"line":47,"column":0},"end":{"line":47,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":23},"end":{"line":18,"column":24}},"loc":{"start":{"line":18,"column":37},"end":{"line":26,"column":2}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":71},"end":{"line":18,"column":72}},"loc":{"start":{"line":18,"column":84},"end":{"line":26,"column":1}},"line":18},"10":{"name":"(anonymous_10)","decl":{"start":{"line":27,"column":27},"end":{"line":27,"column":28}},"loc":{"start":{"line":27,"column":41},"end":{"line":35,"column":2}},"line":27},"11":{"name":"(anonymous_11)","decl":{"start":{"line":27,"column":75},"end":{"line":27,"column":76}},"loc":{"start":{"line":27,"column":88},"end":{"line":35,"column":1}},"line":27},"12":{"name":"(anonymous_12)","decl":{"start":{"line":36,"column":27},"end":{"line":36,"column":28}},"loc":{"start":{"line":36,"column":41},"end":{"line":46,"column":2}},"line":36},"13":{"name":"(anonymous_13)","decl":{"start":{"line":36,"column":75},"end":{"line":36,"column":76}},"loc":{"start":{"line":36,"column":88},"end":{"line":46,"column":1}},"line":36}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/charger.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/charger.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qCAAoD;AAEpD,kEAA8C;AAC9C,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAcxB,MAAM,CAAC,GAAG,CAAC,UAAU,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IACzD,IAAI;QACA,MAAM,WAAW,GAAG,MAAM,kBAAY,CAAC,eAAe,EAAE,CAAC;QACzD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;KAC5C;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC7D,IAAI;QACA,MAAM,UAAU,GAAG,MAAM,kBAAY,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QACnE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;KAC3C;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAcH,MAAM,CAAC,GAAG,CAAC,cAAc,EAAE,CAAO,GAAY,EAAE,GAAa,EAAE,EAAE;IAC7D,IAAI;QACA,MAAM,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;QAChC,MAAM,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAE/B,MAAM,SAAS,GAAG,MAAM,kBAAY,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;QACrE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,mBAAmB,GAAG,CAAC,MAAM,CAAC,EAAE,0BAA0B,MAAM,GAAG,CAAC,CAAC;KACpG;IAAC,OAAO,KAAK,EAAE;QACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;KACtC;AACL,CAAC,CAAA,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, Response, Router } from 'express';\n\nimport chargerModel from '../models/chargers';\nconst router = Router();\n\n/**\n * Charger ROUTE\n * /:\n *   get:\n *     summary: Display all chargers\n *     description: Render list of all chargers\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/charger', async (req: Request, res: Response) => {\n    try {\n        const allChargers = await chargerModel.showAllChargers();\n        return res.status(200).send(allChargers);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Charger ROUTE\n * /:\n *   get:\n *     summary: Display information for one charger\n *     description: Render a specific charger\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.get('/charger/:id', async (req: Request, res: Response) => {\n    try {\n        const oneCharger = await chargerModel.getOneCharger(req.params.id);\n        return res.status(200).send(oneCharger);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\n/**\n * Charger ROUTE\n * /:\n *   put:\n *     summary: Change status of one charger\n *     description: Update a status for one charger\n * @param {Request}  req  The incoming request.\n * @param {Response} res  The outgoing response.\n * @param {Function} next Next to call in chain of middleware.\n *\n * @returns {void}\n */\nrouter.put('/charger/:id', async (req: Request, res: Response) => {\n    try {\n        const chargerID = req.params.id;\n        const status = req.body.status;\n\n        const newStatus = await chargerModel.updateStatus(chargerID, status);\n        return res.status(200).send(`Charger with id ${req.params.id} has changed status to ${status} `);\n    } catch (error) {\n        return res.status(404).send(error);\n    }\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0756a8fe05fc54f0759d42c0c0fe2a5b0a7691fe","contentHash":"f2f819a45e3ed971fdb955869abcea773020259bb29dbb778f93b8829d688077"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/chargers.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/chargers.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":13},"end":{"line":15,"column":49}},"16":{"start":{"line":16,"column":21},"end":{"line":56,"column":1}},"17":{"start":{"line":18,"column":8},"end":{"line":28,"column":11}},"18":{"start":{"line":19,"column":23},"end":{"line":19,"column":49}},"19":{"start":{"line":20,"column":12},"end":{"line":27,"column":13}},"20":{"start":{"line":21,"column":28},"end":{"line":21,"column":50}},"21":{"start":{"line":22,"column":28},"end":{"line":22,"column":47}},"22":{"start":{"line":23,"column":16},"end":{"line":23,"column":30}},"23":{"start":{"line":26,"column":16},"end":{"line":26,"column":31}},"24":{"start":{"line":31,"column":8},"end":{"line":41,"column":11}},"25":{"start":{"line":32,"column":23},"end":{"line":32,"column":49}},"26":{"start":{"line":33,"column":12},"end":{"line":40,"column":13}},"27":{"start":{"line":34,"column":28},"end":{"line":34,"column":49}},"28":{"start":{"line":35,"column":28},"end":{"line":35,"column":60}},"29":{"start":{"line":36,"column":16},"end":{"line":36,"column":30}},"30":{"start":{"line":39,"column":16},"end":{"line":39,"column":31}},"31":{"start":{"line":44,"column":8},"end":{"line":54,"column":11}},"32":{"start":{"line":45,"column":23},"end":{"line":45,"column":49}},"33":{"start":{"line":46,"column":12},"end":{"line":53,"column":13}},"34":{"start":{"line":47,"column":28},"end":{"line":47,"column":62}},"35":{"start":{"line":48,"column":28},"end":{"line":48,"column":68}},"36":{"start":{"line":49,"column":16},"end":{"line":49,"column":30}},"37":{"start":{"line":52,"column":16},"end":{"line":52,"column":31}},"38":{"start":{"line":57,"column":0},"end":{"line":57,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"showAllChargers","decl":{"start":{"line":17,"column":30},"end":{"line":17,"column":45}},"loc":{"start":{"line":17,"column":48},"end":{"line":29,"column":5}},"line":17},"9":{"name":"(anonymous_9)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":28,"column":9}},"line":18},"10":{"name":"getOneCharger","decl":{"start":{"line":30,"column":28},"end":{"line":30,"column":41}},"loc":{"start":{"line":30,"column":53},"end":{"line":42,"column":5}},"line":30},"11":{"name":"(anonymous_11)","decl":{"start":{"line":31,"column":47},"end":{"line":31,"column":48}},"loc":{"start":{"line":31,"column":60},"end":{"line":41,"column":9}},"line":31},"12":{"name":"updateStatus","decl":{"start":{"line":43,"column":27},"end":{"line":43,"column":39}},"loc":{"start":{"line":43,"column":59},"end":{"line":55,"column":5}},"line":43},"13":{"name":"(anonymous_13)","decl":{"start":{"line":44,"column":47},"end":{"line":44,"column":48}},"loc":{"start":{"line":44,"column":60},"end":{"line":54,"column":9}},"line":44}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[1,0],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/chargers.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/models/chargers.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,kDAAgC;AAEhC,MAAM,YAAY,GAAG;IAMjB,eAAe,EAAE,SAAe,eAAe;;YAC3C,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,sBAAsB,CAAC;gBACnC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAEhC,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,aAAa,EAAE,SAAe,aAAa,CAAC,SAAiB;;YACzD,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,qBAAqB,CAAC;gBAClC,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;gBAC7C,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;IACD,YAAY,EAAE,SAAe,YAAY,CAAC,SAAiB,EAAE,MAAc;;YACvE,MAAM,EAAE,GAAG,MAAM,YAAQ,CAAC,KAAK,EAAE,CAAC;YAClC,IAAI;gBACA,MAAM,GAAG,GAAG,kCAAkC,CAAC;gBAC/C,MAAM,GAAG,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;gBACrD,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC;aACjB;oBAAS;gBACN,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;aAClB;QACL,CAAC;KAAA;CACJ,CAAC;AAEF,kBAAe,YAAY,CAAC","sourcesContent":["import database from '../db/db';\n\nconst chargerModel = {\n    /**\n     * Function to show all chargers\n     * @async\n     * @returns {RowDataPacket} Resultset from the query.\n     */\n    showAllChargers: async function showAllChargers() {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_chargers();`;\n            const res = await db.query(sql);\n\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    getOneCharger: async function getOneCharger(chargerId: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL get_charger(?)`;\n            const res = await db.query(sql, [chargerId]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n    updateStatus: async function updateStatus(chargerId: string, status: string) {\n        const db = await database.getDb();\n        try {\n            const sql = `CALL update_charger_status(?, ?)`;\n            const res = await db.query(sql, [chargerId, status]);\n            return res[0];\n        } finally {\n            await db.end();\n        }\n    },\n};\n\nexport default chargerModel;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"71355d6f6c347189fc2297f5503ae9d38e2b7b8d","contentHash":"5571465a367a1d871e2c120fb3ad95937bcf69fe002b7ae12155559bf356c226"},"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/auth.ts":{"path":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/auth.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"13":{"start":{"line":12,"column":4},"end":{"line":12,"column":62}},"14":{"start":{"line":14,"column":0},"end":{"line":14,"column":62}},"15":{"start":{"line":15,"column":18},"end":{"line":15,"column":36}},"16":{"start":{"line":16,"column":22},"end":{"line":16,"column":61}},"17":{"start":{"line":17,"column":15},"end":{"line":17,"column":38}},"18":{"start":{"line":18,"column":0},"end":{"line":35,"column":3}},"19":{"start":{"line":19,"column":4},"end":{"line":34,"column":7}},"20":{"start":{"line":20,"column":21},"end":{"line":20,"column":35}},"21":{"start":{"line":21,"column":8},"end":{"line":33,"column":11}},"22":{"start":{"line":28,"column":12},"end":{"line":28,"column":35}},"23":{"start":{"line":31,"column":12},"end":{"line":31,"column":30}},"24":{"start":{"line":32,"column":12},"end":{"line":32,"column":27}},"25":{"start":{"line":36,"column":0},"end":{"line":52,"column":3}},"26":{"start":{"line":37,"column":4},"end":{"line":51,"column":7}},"27":{"start":{"line":38,"column":8},"end":{"line":50,"column":11}},"28":{"start":{"line":45,"column":12},"end":{"line":45,"column":35}},"29":{"start":{"line":48,"column":12},"end":{"line":48,"column":30}},"30":{"start":{"line":49,"column":12},"end":{"line":49,"column":27}},"31":{"start":{"line":53,"column":0},"end":{"line":53,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":11,"column":56},"end":{"line":11,"column":57}},"loc":{"start":{"line":11,"column":71},"end":{"line":13,"column":1}},"line":11},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":35},"end":{"line":18,"column":36}},"loc":{"start":{"line":18,"column":55},"end":{"line":35,"column":1}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":19,"column":43},"end":{"line":19,"column":44}},"loc":{"start":{"line":19,"column":56},"end":{"line":34,"column":5}},"line":19},"10":{"name":"(anonymous_10)","decl":{"start":{"line":27,"column":18},"end":{"line":27,"column":19}},"loc":{"start":{"line":27,"column":32},"end":{"line":29,"column":9}},"line":27},"11":{"name":"(anonymous_11)","decl":{"start":{"line":30,"column":18},"end":{"line":30,"column":19}},"loc":{"start":{"line":30,"column":28},"end":{"line":33,"column":9}},"line":30},"12":{"name":"(anonymous_12)","decl":{"start":{"line":36,"column":32},"end":{"line":36,"column":33}},"loc":{"start":{"line":36,"column":52},"end":{"line":52,"column":1}},"line":36},"13":{"name":"(anonymous_13)","decl":{"start":{"line":37,"column":43},"end":{"line":37,"column":44}},"loc":{"start":{"line":37,"column":56},"end":{"line":51,"column":5}},"line":37},"14":{"name":"(anonymous_14)","decl":{"start":{"line":44,"column":18},"end":{"line":44,"column":19}},"loc":{"start":{"line":44,"column":32},"end":{"line":46,"column":9}},"line":44},"15":{"name":"(anonymous_15)","decl":{"start":{"line":47,"column":18},"end":{"line":47,"column":19}},"loc":{"start":{"line":47,"column":28},"end":{"line":50,"column":9}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":11,"column":22},"end":{"line":13,"column":1}},"type":"binary-expr","locations":[{"start":{"line":11,"column":23},"end":{"line":11,"column":27}},{"start":{"line":11,"column":31},"end":{"line":11,"column":51}},{"start":{"line":11,"column":56},"end":{"line":13,"column":1}}],"line":11},"6":{"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":61}},"type":"cond-expr","locations":[{"start":{"line":12,"column":37},"end":{"line":12,"column":40}},{"start":{"line":12,"column":43},"end":{"line":12,"column":61}}],"line":12},"7":{"loc":{"start":{"line":12,"column":12},"end":{"line":12,"column":33}},"type":"binary-expr","locations":[{"start":{"line":12,"column":12},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":33}}],"line":12}},"s":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1},"f":{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"0":[1,1,1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[1,1,1],"6":[0,1],"7":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/auth.ts","sources":["/Users/frida/Kod/BTH/dbwebb-kurser/VTeam/Spark-backend/Spark-API-v1/src/routes/auth.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,qCAA8D;AAC9D,8DAAgC;AAChC,MAAM,MAAM,GAAG,IAAA,gBAAM,GAAE,CAAC;AAGxB,MAAM,CAAC,GAAG,CAAC,sBAAsB,EAAE,UAAgB,GAAY,EAAE,GAAa;;QAC1E,MAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC;QAE5B,MAAM,IAAA,qBAAK,EACP,yDAAyD,OAAO,CAAC,GAAG,CAAC,SAAS,kBAAkB,OAAO,CAAC,GAAG,CAAC,cAAc,SAAS,IAAI,EAAE,EACzI;YACI,MAAM,EAAE,MAAM;YACd,OAAO,EAAE;gBACL,MAAM,EAAE,kBAAkB;aAC7B;SACJ,CACJ;aACI,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC3B,CAAC,CAAC;aACD,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACX,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACX,CAAC;CAAA,CAAC,CAAC;AAEH,MAAM,CAAC,GAAG,CAAC,mBAAmB,EAAE,UAAgB,GAAY,EAAE,GAAa;;QACvE,MAAM,IAAA,qBAAK,EAAC,6BAA6B,EAAE;YACvC,MAAM,EAAE,KAAK;YACb,OAAO,EAAE;gBACL,aAAa,EAAE,GAAG,CAAC,GAAG,CAAC,eAAe,CAAE;aAC3C;SACJ,CAAC;aACG,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE;YACf,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;QAC3B,CAAC,CAAC;aACD,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;YACX,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAClB,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IACX,CAAC;CAAA,CAAC,CAAC;AAEH,kBAAe,MAAM,CAAC","sourcesContent":["import { Request, response, Response, Router } from \"express\";\nimport fetch from \"cross-fetch\";\nconst router = Router();\n\n\nrouter.get(\"/auth/getAccessToken\", async function (req: Request, res: Response) {\n    const code = req.query.code;\n\n    await fetch(\n        `https://github.com/login/oauth/access_token?client_id=${process.env.CLIENT_ID}&client_secret=${process.env.CLIENT_SECRETS}&code=${code}`,\n        {\n            method: \"POST\",\n            headers: {\n                Accept: \"application/json\",\n            },\n        }\n    )\n        .then((response) => {\n            return response.json();\n        })\n        .then((data) => {\n            console.log(data);\n            res.json(data);\n        });\n});\n\nrouter.get(\"/auth/getUserData\", async function (req: Request, res: Response) {\n    await fetch(`https://api.github.com/user`, {\n        method: \"GET\",\n        headers: {\n            Authorization: req.get(\"Authorization\")!,\n        },\n    })\n        .then((response) => {\n            return response.json();\n        })\n        .then((data) => {\n            console.log(data);\n            res.json(data);\n        });\n});\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4af9f5ef070be66ba94f47843ede19fe5d098083","contentHash":"723df1448674ccc11863ccee6a0ba1090205fe76bffd916010c075243f415fda"}}